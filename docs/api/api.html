<!-- 
     Follow instructions from https://stackoverflow.com/questions/23211695/modifying-content-width-of-the-sphinx-theme-read-the-docs/33626140#33626140 on wideness in sphinx rtd_theme
     This is for layout.html
*/
--> 


<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>4. THE COVID19_STATS API &mdash; COVID19_STATS 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/covid19_stats.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="3.6. covid19_update_readme" href="../cli/covid19_update_readme.html" />
    <link href="../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> COVID19_STATS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">1. GETTING STARTED</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html">2. RESOURCES</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/cli.html">3. USING THE CLI</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4. THE COVID19_STATS API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#covid19-stats-module">4.1. covid19_stats module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#covid19-stats-engine-module">4.2. covid19_stats.engine module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#covid19-stats-engine-gis-module">4.3. covid19_stats.engine.gis module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#covid19-stats-engine-core-module">4.4. covid19_stats.engine.core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#covid19-stats-engine-viz-module">4.5. covid19_stats.engine.viz module</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">COVID19_STATS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">4. </span>THE COVID19_STATS API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api/api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-covid19-stats-api">
<span id="using-the-api"></span><h1><span class="section-number">4. </span>THE COVID19_STATS API<a class="headerlink" href="#the-covid19-stats-api" title="Permalink to this headline">¶</a></h1>
<p>The API provides a much richer base of functionality than the <a class="reference internal" href="../cli/cli.html#using-the-cli"><span class="std std-ref">CLI tools</span></a>, although I have gotten <em>very</em> far by using them. The structure of the API consists of a <a class="reference external" href="https://en.wikipedia.org/wiki/Singleton_pattern">singleton</a> that contains all the <a class="reference external" href="https://en.wikipedia.org/wiki/Geographic_information_system">GIS</a>, full COVID-19 state of all counties in the US, and necessary configuration data. <a class="reference internal" href="#figure-of-api-flow"><span class="std std-numref">Fig. 4.1</span></a> describes the implementation flow of synthesizing COVID-19 summary data.</p>
<div class="figure align-left" id="id15">
<span id="figure-of-api-flow"></span><a class="reference internal image-reference" href="../_images/covid19_stats_api_covid19database_singleton.png"><img alt="../_images/covid19_stats_api_covid19database_singleton.png" src="../_images/covid19_stats_api_covid19database_singleton.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 4.1 </span><span class="caption-text"><a class="reference internal" href="#covid19_stats.COVID19Database" title="covid19_stats.COVID19Database"><code class="xref py py-class docutils literal notranslate"><span class="pre">COVID19Database</span></code></a> is the <a class="reference external" href="https://en.wikipedia.org/wiki/Singleton_pattern">singleton</a> that contains US <a class="reference external" href="https://en.wikipedia.org/wiki/Geographic_information_system">GIS</a> data, and trends of cumulative COVID-19 cases and deaths for <em>all</em> counties and atomic territorial units within the United States. It is somewhat-lazily instantiated by <a class="reference external" href="https://en.wikipedia.org/wiki/Geographic_information_system">GIS</a> functionality that lives in <a class="reference internal" href="#module-covid19_stats.engine.gis" title="covid19_stats.engine.gis"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gis</span></code></a>, and is in turn called by utility methods in <a class="reference internal" href="#module-covid19_stats.engine.core" title="covid19_stats.engine.core"><code class="xref py py-mod docutils literal notranslate"><span class="pre">core</span></code></a>.</span><a class="headerlink" href="#id15" title="Permalink to this image">¶</a></p>
</div>
<p>Subsequent subsections describe each of the main modules, with special emphasis given to <a class="reference internal" href="#covid19_stats.COVID19Database" title="covid19_stats.COVID19Database"><code class="xref py py-class docutils literal notranslate"><span class="pre">COVID19Database</span></code></a> due to its integral role.</p>
<div class="section" id="covid19-stats-module">
<h2><span class="section-number">4.1. </span>covid19_stats module<a class="headerlink" href="#covid19-stats-module" title="Permalink to this headline">¶</a></h2>
<p>This is the top-level module for this repository. It defines the location of the resource directory relative to the module’s installation location (see <a class="reference internal" href="../resources.html#resources-directory"><span class="std std-numref">Section 2</span></a>), and the main COVID-19 database <a class="reference external" href="https://en.wikipedia.org/wiki/Singleton_pattern">singleton</a> object.</p>
<span class="target" id="module-covid19_stats"></span><dl class="py class">
<dt id="covid19_stats.COVID19Database">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">covid19_stats.</span></code><code class="sig-name descname"><span class="pre">COVID19Database</span></code><a class="headerlink" href="#covid19_stats.COVID19Database" title="Permalink to this definition">¶</a></dt>
<dd><p>This class implements a <a class="reference external" href="https://en.wikipedia.org/wiki/Singleton_pattern">singleton pattern</a> with static access methods to US <a class="reference external" href="https://en.wikipedia.org/wiki/Geographic_information_system">GIS</a> data and COVID-19 cumulative summary case and death data, for territorial units within the United States. It lazily instantiates itself via <a class="reference external" href="https://en.wikipedia.org/wiki/Geographic_information_system">GIS</a> loading functionality.</p>
<p>The main data this <a class="reference external" href="https://en.wikipedia.org/wiki/Singleton_pattern">singleton</a> object contains is the cumulative COVID-19 cumulative cases and deaths, for US counties, produced by the <a class="reference external" href="https://github.com/nytimes/covid-19-data">NY Times COVID-19 database</a>.</p>
<p>This creates a custom <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a>, with number <cite>00001</cite>, by melding together the five New York City boroughs (<a class="reference external" href="https://en.wikipedia.org/wiki/Manhattan">Manhattan</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/Brooklyn">Brooklyn</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/Queens">Queens</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/The_Bronx">The Bronx</a>, and <a class="reference external" href="https://en.wikipedia.org/wiki/Staten_Island">Staten Island</a>). This makes the COVID-19 geographic data set consistent with the COVID-19 cumulative cases and deaths data sets of the <a class="reference external" href="https://github.com/nytimes/covid-19-data">NY Times COVID-19 database</a>.</p>
<p>In addition to a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a> regions created or loaded by <a class="reference internal" href="#covid19_stats.engine.gis.create_and_store_msas_and_fips_2019" title="covid19_stats.engine.gis.create_and_store_msas_and_fips_2019"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_and_store_msas_and_fips_2019</span></code></a>, this class also contains <a class="reference external" href="https://en.wikipedia.org/wiki/Contiguous_United_States">CONUS</a> and state and territory regions dictionaries.</p>
<dl class="py method">
<dt id="covid19_stats.COVID19Database.all_counties_nytimes_covid19_data">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">all_counties_nytimes_covid19_data</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.COVID19Database.all_counties_nytimes_covid19_data" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> of the big shebang, the <em>reason behind the reason</em>, for the whole data set of COVID-19 cumulative cases and deaths. <em>It is unordered</em>. Here are the keys in this <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>: <code class="docutils literal notranslate"><span class="pre">date</span></code> (type <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a>), <code class="docutils literal notranslate"><span class="pre">county</span></code> (of type <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">string</span></code></a>), <code class="docutils literal notranslate"><span class="pre">state</span></code> (of type <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">string</span></code></a>), <code class="docutils literal notranslate"><span class="pre">fips</span></code> (the FIPS code of type <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">string</span></code></a>), <code class="docutils literal notranslate"><span class="pre">cumulative</span> <span class="pre">cases</span></code> (of type <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>), and <code class="docutils literal notranslate"><span class="pre">cumulative</span> <span class="pre">death</span></code> (of type <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>).</p>
</dd>
</dl>
<p>As of 25 February 2021, there are almost <span class="math notranslate nohighlight">\(10^6\)</span> records in this <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="covid19_stats.COVID19Database.data_conus">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">data_conus</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.COVID19Database.data_conus" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>the same type of region data structure for a specific <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>. Easier to show rather than describe in words this <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>.</p>
<span class="target" id="conus-example-data"></span><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;RNAME&#39;</span><span class="p">:</span> <span class="s1">&#39;CONUS&#39;</span><span class="p">,</span>
 <span class="s1">&#39;region name&#39;</span><span class="p">:</span> <span class="s1">&#39;CONUS&#39;</span><span class="p">,</span>
 <span class="s1">&#39;prefix&#39;</span><span class="p">:</span> <span class="s1">&#39;conus&#39;</span><span class="p">,</span>
 <span class="s1">&#39;fips&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;48059&#39;</span><span class="p">,</span>
  <span class="s1">&#39;48253&#39;</span><span class="p">,</span>
  <span class="s1">&#39;48441&#39;</span><span class="p">,</span>
  <span class="s1">&#39;39133&#39;</span><span class="p">,</span>
  <span class="s1">&#39;39153&#39;</span><span class="p">,</span>
  <span class="s1">&#39;13095&#39;</span><span class="p">,</span>
  <span class="s1">&#39;13177&#39;</span><span class="p">,</span>
  <span class="s1">&#39;13273&#39;</span><span class="p">,</span>
  <span class="s1">&#39;13321&#39;</span><span class="p">,</span>
  <span class="s1">&#39;41043&#39;</span><span class="p">,</span>
  <span class="s1">&#39;36001&#39;</span><span class="p">,</span>
  <span class="s1">&#39;36083&#39;</span><span class="p">,</span>
  <span class="s1">&#39;36091&#39;</span><span class="p">,</span>
  <span class="s1">&#39;36093&#39;</span><span class="p">,</span>
  <span class="o">...</span><span class="p">],</span>
 <span class="s1">&#39;population&#39;</span><span class="p">:</span> <span class="mi">308126624</span><span class="p">}</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="covid19_stats.COVID19Database.data_msas_2019">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">data_msas_2019</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.COVID19Database.data_msas_2019" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a> region information. It returns the <em>same</em> data structure as what <a class="reference internal" href="#covid19_stats.engine.gis.create_and_store_msas_and_fips_2019" title="covid19_stats.engine.gis.create_and_store_msas_and_fips_2019"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_and_store_msas_and_fips_2019</span></code></a> returns.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="covid19_stats.COVID19Database.data_nonconus_states_territories">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">data_nonconus_states_territories</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.COVID19Database.data_nonconus_states_territories" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of US state and territory information, for states and territories <em>not</em> in the <a class="reference external" href="https://en.wikipedia.org/wiki/Contiguous_United_States">CONUS</a>. It returns the <em>same</em> type of data structure as what <a class="reference internal" href="#covid19_stats.engine.gis.create_and_store_msas_and_fips_2019" title="covid19_stats.engine.gis.create_and_store_msas_and_fips_2019"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_and_store_msas_and_fips_2019</span></code></a> returns. But better show-than-tell, here is the data for the state of <a class="reference external" href="https://en.wikipedia.org/wiki/Hawaii">Hawaii</a>.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;hawaii&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;RNAME&#39;</span><span class="p">:</span> <span class="s1">&#39;Hawaii&#39;</span><span class="p">,</span>
  <span class="s1">&#39;region name&#39;</span><span class="p">:</span> <span class="s1">&#39;Hawaii&#39;</span><span class="p">,</span>
  <span class="s1">&#39;prefix&#39;</span><span class="p">:</span> <span class="s1">&#39;hawaii&#39;</span><span class="p">,</span>
  <span class="s1">&#39;fips&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;15009&#39;</span><span class="p">,</span> <span class="s1">&#39;15003&#39;</span><span class="p">,</span> <span class="s1">&#39;15001&#39;</span><span class="p">,</span> <span class="s1">&#39;15007&#39;</span><span class="p">,</span> <span class="s1">&#39;15005&#39;</span><span class="p">],</span>
  <span class="s1">&#39;population&#39;</span><span class="p">:</span> <span class="mi">1415786</span><span class="p">}}</span>
</pre></div>
</div>
</div></blockquote>
<p>The identifying key is the lowercase, no-spaced version of the state’s name. Look at the values of the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> that <a class="reference internal" href="#covid19_stats.COVID19Database.mapping_state_rname_nonconus" title="covid19_stats.COVID19Database.mapping_state_rname_nonconus"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mapping_state_rname_nonconus</span></code></a> returns.
:rtype: dict</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="covid19_stats.COVID19Database.data_states">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">data_states</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.COVID19Database.data_states" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of US state information, for states in the <a class="reference external" href="https://en.wikipedia.org/wiki/Contiguous_United_States">CONUS</a>. It returns the <em>same</em> type of data structure as what <a class="reference internal" href="#covid19_stats.engine.gis.create_and_store_msas_and_fips_2019" title="covid19_stats.engine.gis.create_and_store_msas_and_fips_2019"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_and_store_msas_and_fips_2019</span></code></a> returns. But better show-than-tell, here is the data for the state of <a class="reference external" href="https://en.wikipedia.org/wiki/Rhode_Island">Rhode Island</a>.</p>
<span class="target" id="rhode-island-state-example-data"></span><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;rhode_island&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;RNAME&#39;</span><span class="p">:</span> <span class="s1">&#39;Rhode Island&#39;</span><span class="p">,</span>
  <span class="s1">&#39;region name&#39;</span><span class="p">:</span> <span class="s1">&#39;Rhode Island&#39;</span><span class="p">,</span>
  <span class="s1">&#39;prefix&#39;</span><span class="p">:</span> <span class="s1">&#39;rhode_island&#39;</span><span class="p">,</span>
  <span class="s1">&#39;fips&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;44001&#39;</span><span class="p">,</span> <span class="s1">&#39;44003&#39;</span><span class="p">,</span> <span class="s1">&#39;44005&#39;</span><span class="p">,</span> <span class="s1">&#39;44007&#39;</span><span class="p">,</span> <span class="s1">&#39;44009&#39;</span><span class="p">],</span>
  <span class="s1">&#39;population&#39;</span><span class="p">:</span> <span class="mi">1059361</span><span class="p">}}</span>
</pre></div>
</div>
</p>
</dd>
</dl>
<p>The identifying key is the lowercase, no-spaced version of the state’s name. Look at the values of the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> that <a class="reference internal" href="#covid19_stats.COVID19Database.mapping_state_rname_conus" title="covid19_stats.COVID19Database.mapping_state_rname_conus"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mapping_state_rname_conus</span></code></a> returns.
:rtype: dict</p>
</dd></dl>

<dl class="py method">
<dt id="covid19_stats.COVID19Database.fips_adj_2018">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">fips_adj_2018</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.COVID19Database.fips_adj_2018" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of adjacency information for US counties and territories. It returns the <em>same</em> data structure as what <a class="reference internal" href="#covid19_stats.engine.gis.construct_adjacency" title="covid19_stats.engine.gis.construct_adjacency"><code class="xref py py-meth docutils literal notranslate"><span class="pre">construct_adjacency</span></code></a> returns.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="covid19_stats.COVID19Database.fips_countystate_dict">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">fips_countystate_dict</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.COVID19Database.fips_countystate_dict" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of county <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a> to a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of <code class="docutils literal notranslate"><span class="pre">county</span></code> and <code class="docutils literal notranslate"><span class="pre">state</span></code>. It returns one of the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>s (mapping of county <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a> to county and state name) that <a class="reference internal" href="#covid19_stats.engine.gis.create_and_store_fips_counties_2019" title="covid19_stats.engine.gis.create_and_store_fips_counties_2019"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_and_store_fips_counties_2019</span></code></a> returns.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="covid19_stats.COVID19Database.fips_data_2018">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">fips_data_2018</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.COVID19Database.fips_data_2018" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of county geographical information. It returns the <em>same</em> data structure as what <a class="reference internal" href="#covid19_stats.engine.gis.create_and_store_fips_2018" title="covid19_stats.engine.gis.create_and_store_fips_2018"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_and_store_fips_2018</span></code></a> returns.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="covid19_stats.COVID19Database.fips_msas_2019">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">fips_msas_2019</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.COVID19Database.fips_msas_2019" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of county <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a> to the <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>, identified by its prefix (for example, <code class="docutils literal notranslate"><span class="pre">nyc</span></code> is the New York City metropolitan area). <em>Implictly</em>, this <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> only contains the counties that lie within an <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="covid19_stats.COVID19Database.mapping_state_rname_conus">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">mapping_state_rname_conus</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.COVID19Database.mapping_state_rname_conus" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of state names, for states in the <a class="reference external" href="https://en.wikipedia.org/wiki/Contiguous_United_States">CONUS</a>, to the region identifying name. Here is what it returns,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;New Mexico&#39;</span><span class="p">:</span> <span class="s1">&#39;new_mexico&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Minnesota&#39;</span><span class="p">:</span> <span class="s1">&#39;minnesota&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Maryland&#39;</span><span class="p">:</span> <span class="s1">&#39;maryland&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Tennessee&#39;</span><span class="p">:</span> <span class="s1">&#39;tennessee&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Oregon&#39;</span><span class="p">:</span> <span class="s1">&#39;oregon&#39;</span><span class="p">,</span>
 <span class="s1">&#39;New Hampshire&#39;</span><span class="p">:</span> <span class="s1">&#39;new_hampshire&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Ohio&#39;</span><span class="p">:</span> <span class="s1">&#39;ohio&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Maine&#39;</span><span class="p">:</span> <span class="s1">&#39;maine&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Utah&#39;</span><span class="p">:</span> <span class="s1">&#39;utah&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Alabama&#39;</span><span class="p">:</span> <span class="s1">&#39;alabama&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Michigan&#39;</span><span class="p">:</span> <span class="s1">&#39;michigan&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Iowa&#39;</span><span class="p">:</span> <span class="s1">&#39;iowa&#39;</span><span class="p">,</span>
 <span class="s1">&#39;New York&#39;</span><span class="p">:</span> <span class="s1">&#39;new_york&#39;</span><span class="p">,</span>
 <span class="s1">&#39;South Carolina&#39;</span><span class="p">:</span> <span class="s1">&#39;south_carolina&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Nebraska&#39;</span><span class="p">:</span> <span class="s1">&#39;nebraska&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Vermont&#39;</span><span class="p">:</span> <span class="s1">&#39;vermont&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Arizona&#39;</span><span class="p">:</span> <span class="s1">&#39;arizona&#39;</span><span class="p">,</span>
 <span class="s1">&#39;California&#39;</span><span class="p">:</span> <span class="s1">&#39;california&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Virginia&#39;</span><span class="p">:</span> <span class="s1">&#39;virginia&#39;</span><span class="p">,</span>
 <span class="s1">&#39;North Dakota&#39;</span><span class="p">:</span> <span class="s1">&#39;north_dakota&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Kansas&#39;</span><span class="p">:</span> <span class="s1">&#39;kansas&#39;</span><span class="p">,</span>
 <span class="s1">&#39;District of Columbia&#39;</span><span class="p">:</span> <span class="s1">&#39;district_of_columbia&#39;</span><span class="p">,</span>
 <span class="s1">&#39;North Carolina&#39;</span><span class="p">:</span> <span class="s1">&#39;north_carolina&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Delaware&#39;</span><span class="p">:</span> <span class="s1">&#39;delaware&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Massachusetts&#39;</span><span class="p">:</span> <span class="s1">&#39;massachusetts&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Oklahoma&#39;</span><span class="p">:</span> <span class="s1">&#39;oklahoma&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Florida&#39;</span><span class="p">:</span> <span class="s1">&#39;florida&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Montana&#39;</span><span class="p">:</span> <span class="s1">&#39;montana&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Idaho&#39;</span><span class="p">:</span> <span class="s1">&#39;idaho&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Pennsylvania&#39;</span><span class="p">:</span> <span class="s1">&#39;pennsylvania&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Texas&#39;</span><span class="p">:</span> <span class="s1">&#39;texas&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Illinois&#39;</span><span class="p">:</span> <span class="s1">&#39;illinois&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Kentucky&#39;</span><span class="p">:</span> <span class="s1">&#39;kentucky&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Mississippi&#39;</span><span class="p">:</span> <span class="s1">&#39;mississippi&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Wyoming&#39;</span><span class="p">:</span> <span class="s1">&#39;wyoming&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Colorado&#39;</span><span class="p">:</span> <span class="s1">&#39;colorado&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Arkansas&#39;</span><span class="p">:</span> <span class="s1">&#39;arkansas&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Indiana&#39;</span><span class="p">:</span> <span class="s1">&#39;indiana&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Nevada&#39;</span><span class="p">:</span> <span class="s1">&#39;nevada&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Georgia&#39;</span><span class="p">:</span> <span class="s1">&#39;georgia&#39;</span><span class="p">,</span>
 <span class="s1">&#39;New Jersey&#39;</span><span class="p">:</span> <span class="s1">&#39;new_jersey&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Connecticut&#39;</span><span class="p">:</span> <span class="s1">&#39;connecticut&#39;</span><span class="p">,</span>
 <span class="s1">&#39;West Virginia&#39;</span><span class="p">:</span> <span class="s1">&#39;west_virginia&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Louisiana&#39;</span><span class="p">:</span> <span class="s1">&#39;louisiana&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Rhode Island&#39;</span><span class="p">:</span> <span class="s1">&#39;rhode_island&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Wisconsin&#39;</span><span class="p">:</span> <span class="s1">&#39;wisconsin&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Missouri&#39;</span><span class="p">:</span> <span class="s1">&#39;missouri&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Washington&#39;</span><span class="p">:</span> <span class="s1">&#39;washington&#39;</span><span class="p">,</span>
 <span class="s1">&#39;South Dakota&#39;</span><span class="p">:</span> <span class="s1">&#39;south_dakota&#39;</span><span class="p">}</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="covid19_stats.COVID19Database.mapping_state_rname_nonconus">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">mapping_state_rname_nonconus</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.COVID19Database.mapping_state_rname_nonconus" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of state names, for states and territories outside the <a class="reference external" href="https://en.wikipedia.org/wiki/Contiguous_United_States">CONUS</a>, to the region identifying name. Here is what it returns,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;Alaska&#39;</span><span class="p">:</span> <span class="s1">&#39;alaska&#39;</span><span class="p">,</span> <span class="s1">&#39;Hawaii&#39;</span><span class="p">:</span> <span class="s1">&#39;hawaii&#39;</span><span class="p">,</span> <span class="s1">&#39;Puerto Rico&#39;</span><span class="p">:</span> <span class="s1">&#39;puerto_rico&#39;</span><span class="p">}</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="covid19-stats-engine-module">
<h2><span class="section-number">4.2. </span>covid19_stats.engine module<a class="headerlink" href="#covid19-stats-engine-module" title="Permalink to this headline">¶</a></h2>
<p>This contains all the back-end functionality used by the CLI programs (see <a class="reference internal" href="../cli/cli.html#using-the-cli"><span class="std std-numref">Section 3</span></a>), and two fairly simple utility functions.</p>
<span class="target" id="module-covid19_stats.engine"></span><dl class="py function">
<dt id="covid19_stats.engine.find_plausible_maxnum">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.</span></code><code class="sig-name descname"><span class="pre">find_plausible_maxnum</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maxnum</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.find_plausible_maxnum" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a default plausible limit, for the plotting of COVID-19 cumulative cases and deaths located in <a class="reference internal" href="#module-covid19_stats.engine.viz" title="covid19_stats.engine.viz"><code class="xref py py-mod docutils literal notranslate"><span class="pre">viz</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>maxnum</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the maximum number.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">integer</span></code></a> larger than <code class="docutils literal notranslate"><span class="pre">maxnum</span></code>, that provides a visually aesthetic upper limit for plotting.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.get_string_commas_num">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.</span></code><code class="sig-name descname"><span class="pre">get_string_commas_num</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.get_string_commas_num" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the secret-sauce of formatting integers as strings with commas for every 3 digits. For example, <code class="docutils literal notranslate"><span class="pre">1234</span></code> becomes “1,234”. I copied code from <a class="reference external" href="https://intellipaat.com/community/2447/how-to-print-number-with-commas-as-thousands-separators">this location</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – input number.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the nicely formatted output <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">string</span></code></a> representing an input number.</p>
</dd>
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.get_string_commas_num_float">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.</span></code><code class="sig-name descname"><span class="pre">get_string_commas_num_float</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.get_string_commas_num_float" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the secret-sauce of formatting floats as strings with commas for every 3 digits. For example, <code class="docutils literal notranslate"><span class="pre">1234.56</span></code> becomes “1,234.56”. I copied code from <a class="reference external" href="https://stackoverflow.com/questions/10677350/convert-float-to-comma-separated-string/10677386">this other location</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – input number.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the nicely formatted output <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">string</span></code></a> representing an input number.</p>
</dd>
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="covid19-stats-engine-gis-module">
<h2><span class="section-number">4.3. </span>covid19_stats.engine.gis module<a class="headerlink" href="#covid19-stats-engine-gis-module" title="Permalink to this headline">¶</a></h2>
<p>The meat of the functionality, that generates post-processed <a class="reference external" href="https://en.wikipedia.org/wiki/Geographic_information_system">GIS</a> data describing the territorial units (counties, etc.) of the United States. Territorial unit information includes their identifiers, latitude and longitude boundary arrays as of 2018, and their estimated population in 2019.</p>
<span class="target" id="module-covid19_stats.engine.gis"></span><dl class="py function">
<dt id="covid19_stats.engine.gis.calculate_total_bbox">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.gis.</span></code><code class="sig-name descname"><span class="pre">calculate_total_bbox</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shapes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.gis.calculate_total_bbox" title="Permalink to this definition">¶</a></dt>
<dd><p>This gets the bounding box – minimum and maximum latitude, and minimum and maximum longitude – of a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of shapes.</p>
<p>For example, take the Sacramento, CA, metropolitan statistical area. It consists of four counties: El Dorado County, Placer County, Sacramento County, and Yolo County. <a class="reference internal" href="#gis-calculate-total-bbox-sacramento"><span class="std std-numref">Fig. 4.2</span></a> demonstrates how this algorithm works. It takes the bounding boxes of each county’s shape (shown in pink), and then takes the minimum and maximum latitude and longitude of each county’s bbox to get the <em>total</em> bounding box (in green).</p>
<div class="figure align-left" id="id16">
<span id="gis-calculate-total-bbox-sacramento"></span><a class="reference internal image-reference" href="../_images/gis_calculate_total_bbox_sacramento.png"><img alt="../_images/gis_calculate_total_bbox_sacramento.png" src="../_images/gis_calculate_total_bbox_sacramento.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 4.2 </span><span class="caption-text">Demonstration of this functionality on the four counties in the <a class="reference external" href="https://en.wikipedia.org/wiki/Sacramento_metropolitan_area">Sacramento, CA MSA</a>. In green is the total bounding box of the lat/longitude shapes of all four counties.</span><a class="headerlink" href="#id16" title="Permalink to this image">¶</a></p>
</div>
<p>Now here is the API description.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shapes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – A <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of shapes. Each shape is an <span class="math notranslate nohighlight">\(N \times 2\)</span> shaped <code class="xref py py-class docutils literal notranslate"><span class="pre">array</span></code>, with <span class="math notranslate nohighlight">\(N\)</span> points describing the boundary. Each row is the latitude and longitude of a point – first is the latitude, and second is the longitude. See <a class="reference download internal" download="" href="../_downloads/fd9403d1c766a71b9e77174e8db8426e/gis_calculate_total_bbox_sacramento.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">gis_calculate_total_bbox_sacramento.pkl.gz</span></code></a> for a clear example given by <a class="reference internal" href="#gis-calculate-total-bbox-sacramento"><span class="std std-numref">Fig. 4.2</span></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a four element <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of the total bounding box of the shape collection: minimum longitude, minimum latitude, maximum longitude, and maximum latitude.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.gis.construct_adjacency">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.gis.</span></code><code class="sig-name descname"><span class="pre">construct_adjacency</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fips_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/usr/WS2/islam5/covid19_stats/covid19_stats/resources/fips_2018_adj.pkl.gz'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.gis.construct_adjacency" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates, and then stores (or loads) the adjacency dictionary of all US counties and territorial units. If the storage file, which is by default <a class="reference download internal" download="" href="../_downloads/fe45627bb5b517173a4d63a8a8219261/fips_2018_adj.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">fips_2018_adj.pkl.gz</span></code></a>, does not exist, then will create and store this data into the storage file. Will return the data in the end.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fips_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – the US county <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> produced by, for example, <a class="reference internal" href="#covid19_stats.engine.gis.create_and_store_fips_2018" title="covid19_stats.engine.gis.create_and_store_fips_2018"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_and_store_fips_2018</span></code></a>.</p></li>
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – the location of the adjacency dictionary file, which is by default <a class="reference download internal" download="" href="../_downloads/fe45627bb5b517173a4d63a8a8219261/fips_2018_adj.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">fips_2018_adj.pkl.gz</span></code></a> located in the <code class="docutils literal notranslate"><span class="pre">covid19_stats</span></code> resource directory.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of adjacency. Each key is a <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a> of a county, and each value is a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> of counties and other territories adjacent to it. See <a class="reference internal" href="#covid19_stats.engine.gis.get_fips_adjacency" title="covid19_stats.engine.gis.get_fips_adjacency"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_fips_adjacency</span></code></a> to see an example of this adjacency information for a single county.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.gis.create_and_store_fips_2018">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.gis.</span></code><code class="sig-name descname"><span class="pre">create_and_store_fips_2018</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.gis.create_and_store_fips_2018" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility function that loads in the US CENSUS 2018 county information, located in <a class="reference download internal" download="" href="../_downloads/1042a01b9e418e4aedadfdc0617744fa/cb_2018_us_county_500k.shp"><code class="xref download docutils literal notranslate"><span class="pre">cb_2018_us_county_500k.shp</span></code></a> as a collection of <a class="reference external" href="https://en.wikipedia.org/wiki/Shapefile">Shapefiles</a>, and returns a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of county information.</p>
<p>If there is no serialized version of this dictionary, this method <em>also</em> serializes the data structure, <a class="reference download internal" download="" href="../_downloads/3b67d13f54252606c07d8e40624adc45/fips_2018_data.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">fips_2018_data.pkl.gz</span></code></a>, for easy reloading.</p>
<p>Subsequently, if <a class="reference download internal" download="" href="../_downloads/3b67d13f54252606c07d8e40624adc45/fips_2018_data.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">fips_2018_data.pkl.gz</span></code></a> exists, then loads that file and returns that object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of US county geographic data. The key is the <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a> for the county. Each value is a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bbox</span></code> is the lat/lng bounding box for that county.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">points</span></code> is a list of shapes for that county. Each shape is an <span class="math notranslate nohighlight">\(N \times 2\)</span> shaped <code class="xref py py-class docutils literal notranslate"><span class="pre">array</span></code>, with <span class="math notranslate nohighlight">\(N\)</span> points describing the boundary. Each row is the latitude and longitude of a point – first is the latitude, and second is the longitude</p></li>
</ul>
</p>
</dd>
</dl>
<p>This method uses <a class="reference external" href="https://github.com/GeospatialPython/pyshp">shapefile.Reader</a> to load in <a class="reference download internal" download="" href="../_downloads/1042a01b9e418e4aedadfdc0617744fa/cb_2018_us_county_500k.shp"><code class="xref download docutils literal notranslate"><span class="pre">cb_2018_us_county_500k.shp</span></code></a> if <a class="reference download internal" download="" href="../_downloads/3b67d13f54252606c07d8e40624adc45/fips_2018_data.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">fips_2018_data.pkl.gz</span></code></a> does not exist.</p>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.gis.create_and_store_fips_counties_2019">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.gis.</span></code><code class="sig-name descname"><span class="pre">create_and_store_fips_counties_2019</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.gis.create_and_store_fips_counties_2019" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>a two element <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>. The first element is a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of <cite>FIPS code</cite> to a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> value: <code class="docutils literal notranslate"><span class="pre">county</span></code> and <code class="docutils literal notranslate"><span class="pre">state</span></code>. The second element is the reverse <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> (of county and state) to its <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a>.</p>
<p>The first <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> is stored in <a class="reference download internal" download="" href="../_downloads/156030e49b412adf13b1a4e5b3f21e79/all_2019_fips_cs_dict.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">all_2019_fips_cs_dict.pkl.gz</span></code></a>, and the second <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> is stored in <a class="reference download internal" download="" href="../_downloads/f7abe92a820944e22928437ca18d8f57/all_2019_cs_fips_dict.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">all_2019_cs_fips_dict.pkl.gz</span></code></a>.</p>
<p>If either file does not exist, then the dictionary is created and stored into the appropriate file.</p>
<p>If the file exists, then the object is loaded from that file.</p>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.gis.create_and_store_msas_and_fips_2019">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.gis.</span></code><code class="sig-name descname"><span class="pre">create_and_store_msas_and_fips_2019</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.gis.create_and_store_msas_and_fips_2019" title="Permalink to this definition">¶</a></dt>
<dd><p>This returns a fully normalized <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s consistent with the the NY Times COVID-19 database. Also stores this data into the file, <a class="reference download internal" download="" href="../_downloads/e0144f11482e658248a5b4aa4549bd85/msa_2019_dict.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">msa_2019_dict.pkl.gz</span></code></a>, if it does not exist. If it does exist, then loads the file <a class="reference download internal" download="" href="../_downloads/e0144f11482e658248a5b4aa4549bd85/msa_2019_dict.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">msa_2019_dict.pkl.gz</span></code></a> and returns that data. It will also dump normalized <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a> data into <a class="reference download internal" download="" href="../_downloads/a1132515aa59e8133f656ff502be1bbe/msa_2019_post.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">msa_2019_post.pkl.gz</span></code></a>.</p>
<p>This method does four things:</p>
<ul class="simple">
<li><p>merges San Francisco, San Jose, and Napa <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s into the SF Bay Area.</p></li>
<li><p>merges NYC into the NYC metro area.</p></li>
<li><p>renames Washington, DC to the DC metro area.</p></li>
<li><p>merges Los Angeles, Riverside, and Oxnard <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s into the “Los Angeles” metro area (<a class="reference external" href="https://en.wikipedia.org/wiki/Greater_Los_Angeles">greater Los Angeles</a>).</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a> information. The key is the <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a> data <code class="docutils literal notranslate"><span class="pre">prefix</span></code>, and the value is a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of <code class="docutils literal notranslate"><span class="pre">prefix</span></code>, <code class="docutils literal notranslate"><span class="pre">region</span> <span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">fips</span></code>, and <code class="docutils literal notranslate"><span class="pre">population</span></code>. For example, for <a class="reference external" href="https://en.wikipedia.org/wiki/Greater_St._Louis">St. Louis</a>, it is,</p>
<span class="target" id="stlouis-msa-example-data"></span><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;stlouis&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;prefix&#39;</span><span class="p">:</span> <span class="s1">&#39;stlouis&#39;</span><span class="p">,</span>
  <span class="s1">&#39;region name&#39;</span><span class="p">:</span> <span class="s1">&#39;St. Louis Metro Area&#39;</span><span class="p">,</span>
  <span class="s1">&#39;fips&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;17005&#39;</span><span class="p">,</span>
   <span class="s1">&#39;17013&#39;</span><span class="p">,</span>
   <span class="s1">&#39;17027&#39;</span><span class="p">,</span>
   <span class="s1">&#39;17083&#39;</span><span class="p">,</span>
   <span class="s1">&#39;17117&#39;</span><span class="p">,</span>
   <span class="s1">&#39;17119&#39;</span><span class="p">,</span>
   <span class="s1">&#39;17133&#39;</span><span class="p">,</span>
   <span class="s1">&#39;17163&#39;</span><span class="p">,</span>
   <span class="s1">&#39;29071&#39;</span><span class="p">,</span>
   <span class="s1">&#39;29099&#39;</span><span class="p">,</span>
   <span class="s1">&#39;29113&#39;</span><span class="p">,</span>
   <span class="s1">&#39;29183&#39;</span><span class="p">,</span>
   <span class="s1">&#39;29189&#39;</span><span class="p">,</span>
   <span class="s1">&#39;29219&#39;</span><span class="p">,</span>
   <span class="s1">&#39;29510&#39;</span><span class="p">},</span>
  <span class="s1">&#39;population&#39;</span><span class="p">:</span> <span class="mi">2803228</span><span class="p">}}</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.gis.create_fips_popmap_2019">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.gis.</span></code><code class="sig-name descname"><span class="pre">create_fips_popmap_2019</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.gis.create_fips_popmap_2019" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of estimated 2019 US Census population in each US county or territory. Also stores this data into the file, <a class="reference download internal" download="" href="../_downloads/806a1806612c15caf767a52017c99ae2/fips_2019_popdict.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">fips_2019_popdict.pkl.gz</span></code></a>, if it does not exist. If it does exist, then loads the file <a class="reference download internal" download="" href="../_downloads/806a1806612c15caf767a52017c99ae2/fips_2019_popdict.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">fips_2019_popdict.pkl.gz</span></code></a> and returns that data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a> to estimated 2019 US census population.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.gis.create_msa_2019">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.gis.</span></code><code class="sig-name descname"><span class="pre">create_msa_2019</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.gis.create_msa_2019" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and returns <em>raw and unnormalized</em> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">Metropolitan statistical area</a>s initially recorded in <a class="reference download internal" download="" href="../_downloads/3872dd5458b6f070c5811553a4ea80a5/msa_2019.csv"><code class="xref download docutils literal notranslate"><span class="pre">msa_2019.csv</span></code></a>, sorted by population from smallest to largest, and stores the object into <a class="reference download internal" download="" href="../_downloads/7027fa08d46310e17600dcfbf4050ef7/msa_2019.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">msa_2019.pkl.gz</span></code></a> if it does not exist. If <a class="reference download internal" download="" href="../_downloads/7027fa08d46310e17600dcfbf4050ef7/msa_2019.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">msa_2019.pkl.gz</span></code></a>, then loads this files and returns the subsequent object.</p>
<p>Each entry in the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> looks like this. For example, for <a class="reference external" href="https://en.wikipedia.org/wiki/Greater_St._Louis">St. Louis, MO MSA</a>,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;msa&#39;</span><span class="p">:</span> <span class="mi">41180</span><span class="p">,</span>
 <span class="s1">&#39;pop est 2019&#39;</span><span class="p">:</span> <span class="mi">2803228</span><span class="p">,</span>
 <span class="s1">&#39;fips&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;17005&#39;</span><span class="p">,</span>
  <span class="s1">&#39;17013&#39;</span><span class="p">,</span>
  <span class="s1">&#39;17027&#39;</span><span class="p">,</span>
  <span class="s1">&#39;17083&#39;</span><span class="p">,</span>
  <span class="s1">&#39;17117&#39;</span><span class="p">,</span>
  <span class="s1">&#39;17119&#39;</span><span class="p">,</span>
  <span class="s1">&#39;17133&#39;</span><span class="p">,</span>
  <span class="s1">&#39;17163&#39;</span><span class="p">,</span>
  <span class="s1">&#39;29071&#39;</span><span class="p">,</span>
  <span class="s1">&#39;29099&#39;</span><span class="p">,</span>
  <span class="s1">&#39;29113&#39;</span><span class="p">,</span>
  <span class="s1">&#39;29183&#39;</span><span class="p">,</span>
  <span class="s1">&#39;29189&#39;</span><span class="p">,</span>
  <span class="s1">&#39;29219&#39;</span><span class="p">,</span>
  <span class="s1">&#39;29510&#39;</span><span class="p">},</span>
 <span class="s1">&#39;state&#39;</span><span class="p">:</span> <span class="s1">&#39;MO-IL&#39;</span><span class="p">,</span>
 <span class="s1">&#39;RNAME&#39;</span><span class="p">:</span> <span class="s1">&#39;St. Louis&#39;</span><span class="p">,</span>
 <span class="s1">&#39;prefix&#39;</span><span class="p">:</span> <span class="s1">&#39;stlouis&#39;</span><span class="p">,</span>
 <span class="s1">&#39;region name&#39;</span><span class="p">:</span> <span class="s1">&#39;St. Louis Metro Area&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>The keys for each MSA are <code class="docutils literal notranslate"><span class="pre">msa</span></code> (an integer code), <code class="docutils literal notranslate"><span class="pre">pop</span> <span class="pre">est</span> <span class="pre">2019</span></code> is the US Census 2019 estimated population, <code class="docutils literal notranslate"><span class="pre">fips</span></code> is a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> of counties by <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a> located in this MSA, the <code class="docutils literal notranslate"><span class="pre">state</span></code> are the states this MSA covers, <code class="docutils literal notranslate"><span class="pre">RNAME</span></code> is a legend name for plotting, <code class="docutils literal notranslate"><span class="pre">prefix</span></code> is the name used to identify those files that contain data for this MSA, and <code class="docutils literal notranslate"><span class="pre">region</span> <span class="pre">name</span></code> is the common and accepted MSA name.</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_and_store_msas_and_fips</span></code> contains the fully normalized <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of <cite>Metropolitan statistical area</cite>s used by the NY Times COVID-19 database, and <a class="reference internal" href="#covid19_stats.engine.gis.merge_msas" title="covid19_stats.engine.gis.merge_msas"><code class="xref py py-meth docutils literal notranslate"><span class="pre">merge_msas</span></code></a> performs the normalization.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a sorted, but unnormalized, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of <cite>Metropolitan statistical area</cite>s as defined by the 2019 US Census.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.gis.do_bbox_intersect">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.gis.</span></code><code class="sig-name descname"><span class="pre">do_bbox_intersect</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bbox1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.gis.do_bbox_intersect" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if two bounding boxes intersect.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bbox1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><em>tuple</em></a>) – the four-element <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of bounding box #1: minimum lng/lat, and maximum lng/lat.</p></li>
<li><p><strong>bbox2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><em>tuple</em></a>) – the four-element <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of bounding box #2: minimum lng/lat, and maximum lng/lat.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if intersect, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.gis.get_fips_adjacency">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.gis.</span></code><code class="sig-name descname"><span class="pre">get_fips_adjacency</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fips</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fips_data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.gis.get_fips_adjacency" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a> of all counties adjacent to a specified county. For example, Sacramento County, with <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a> of 06067, has eight counties adjacent to it: 06005, 06013, 06017, 06061, 06077, 06095, 06101, 06113. <a class="reference internal" href="#gis-get-fips-adjacency-sacramento"><span class="std std-numref">Fig. 4.3</span></a> demonstrates that.</p>
<div class="figure align-left" id="id17">
<span id="gis-get-fips-adjacency-sacramento"></span><a class="reference internal image-reference" href="../_images/gis_get_fips_adjacency_sacramento.png"><img alt="../_images/gis_get_fips_adjacency_sacramento.png" src="../_images/gis_get_fips_adjacency_sacramento.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 4.3 </span><span class="caption-text">Visualization of the eight counties adjacent to Sacramento County (06067). Sacramento County is accentuated for easier visualization here.</span><a class="headerlink" href="#id17" title="Permalink to this image">¶</a></p>
</div>
<p>Now here is the API description.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fips</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – the <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a> of the US county or territorial unit.</p></li>
<li><p><strong>fips_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – the US county <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> produced by, for example, <a class="reference internal" href="#covid19_stats.engine.gis.create_and_store_fips_2018" title="covid19_stats.engine.gis.create_and_store_fips_2018"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_and_store_fips_2018</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> of <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a>s of counties adjacent to <code class="docutils literal notranslate"><span class="pre">fips</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.9)">set</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.gis.merge_msas">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.gis.</span></code><code class="sig-name descname"><span class="pre">merge_msas</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regionName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msaids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_data_msas</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.gis.merge_msas" title="Permalink to this definition">¶</a></dt>
<dd><p>This takes an input <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>, defined by its <code class="docutils literal notranslate"><span class="pre">prefix</span></code>, gives it a new or existing <code class="docutils literal notranslate"><span class="pre">regionName</span></code>, by merging one or more <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> of <code class="docutils literal notranslate"><span class="pre">msaids</span></code>, in a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s as returned by, e.g., <a class="reference internal" href="#covid19_stats.engine.gis.create_msa_2019" title="covid19_stats.engine.gis.create_msa_2019"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_msa_2019</span></code></a>. It then returns a new <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s in the same format as <code class="docutils literal notranslate"><span class="pre">all_data_msas</span></code>.</p>
<p>This is used by, for example, normalizing the <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a> data by merging <em>all</em> five boroughs in NYC into a single fake county, <code class="docutils literal notranslate"><span class="pre">NYC</span></code>, in the New York City MSA.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>regionName</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – the region name (<code class="docutils literal notranslate"><span class="pre">region</span> <span class="pre">name</span></code> key) of the merged <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>.</p></li>
<li><p><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – the named identifier of the <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a> to be merged.</p></li>
<li><p><strong>msaids</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.9)"><em>set</em></a>) – the collection of <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s to be merged into <code class="docutils literal notranslate"><span class="pre">prefix</span></code> <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>.</p></li>
<li><p><strong>all_data_msas</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – the input <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of county or US territory <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a>s. Implicitly, <code class="docutils literal notranslate"><span class="pre">all_data_msas</span></code> must contain those the <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s identified by <code class="docutils literal notranslate"><span class="pre">prefix</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s in the same style as <code class="docutils literal notranslate"><span class="pre">all_data_msas</span></code>, sorted by population from lowest to highest. None of the <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s in this new collection contain <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s in <code class="docutils literal notranslate"><span class="pre">msaids</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="covid19-stats-engine-core-module">
<h2><span class="section-number">4.4. </span>covid19_stats.engine.core module<a class="headerlink" href="#covid19-stats-engine-core-module" title="Permalink to this headline">¶</a></h2>
<p>This module provides the core functionality that the <code class="docutils literal notranslate"><span class="pre">covid19_stats</span></code> command line tools use to summarize and visualize COVID-19 case and death statistics. Here are utility methods to identify data on geographical regions such as <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s, states, or the <a class="reference external" href="https://en.wikipedia.org/wiki/Contiguous_United_States">CONUS</a>; to create cumulative case and death data for geographical data; and to print out summary reports of COVID-19 cases and deaths for <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s in different formats.</p>
<span class="target" id="module-covid19_stats.engine.core"></span><dl class="py function">
<dt id="covid19_stats.engine.core.display_tabulated_metros">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.core.</span></code><code class="sig-name descname"><span class="pre">display_tabulated_metros</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">form</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'simple'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selected_metros</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.core.display_tabulated_metros" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints summary COVID-19 cumulative cases and deaths of all or selected <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s to stdout a nice tabulated table, in either a simple format with <code class="docutils literal notranslate"><span class="pre">simple</span></code>, <a class="reference external" href="https://github.github.com/gfm/#tables-extension-">Github flavored Markdown</a> with <code class="docutils literal notranslate"><span class="pre">github</span></code>, <a class="reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#tables">reStructuredText</a> with <code class="docutils literal notranslate"><span class="pre">rst</span></code>, or <a class="reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#list-table">list-tabled reStructuredText</a> with <code class="docutils literal notranslate"><span class="pre">rst-simple</span></code>.</p>
<p>Otherwise, if one chooses <code class="docutils literal notranslate"><span class="pre">json</span></code>, then returns a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of that information.</p>
<p>This acts as an API back-end to <a class="reference internal" href="../cli/covid19_create_movie_or_summary.html#metro-mode"><span class="std std-ref">summarizing MSAs functionality in covid19_create_movie_or_summary</span></a>. Please see <a class="reference internal" href="../cli/covid19_create_movie_or_summary.html#demonstration-simple-format"><span class="std std-ref">demonstration output</span></a> for what this data looks like on screen.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>form</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – <p>If one of <code class="docutils literal notranslate"><span class="pre">simple</span></code>, <code class="docutils literal notranslate"><span class="pre">github</span></code>, <code class="docutils literal notranslate"><span class="pre">rst</span></code>, or <code class="docutils literal notranslate"><span class="pre">rst-simple</span></code>, then prints the table of <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a> summary COVID-19 data to screen. If one of <code class="docutils literal notranslate"><span class="pre">simple</span></code>, <code class="docutils literal notranslate"><span class="pre">github</span></code>, or <code class="docutils literal notranslate"><span class="pre">rst</span></code>, then uses <code class="xref py py-meth docutils literal notranslate"><span class="pre">tabulate</span></code> to format the data.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">json</span></code>, then returns a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of summary data of COVID-19 cumulative cases and deaths for all or specified <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s as <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> entries. This <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> is sorted from largest <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a> population to smallest. An example output is <a class="reference download internal" download="" href="../_downloads/9249dccc9246275aae85ea2fabb4b0fa/core_summary_data.json"><code class="xref download docutils literal notranslate"><span class="pre">core_summary_data.json</span></code></a>. Here are the first two entries,</p>
<span class="target" id="summary-data-example"></span><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="s1">&#39;RANK&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s1">&#39;PREFIX&#39;</span><span class="p">:</span> <span class="s1">&#39;nyc&#39;</span><span class="p">,</span>
  <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;NYC Metro Area&#39;</span><span class="p">,</span>
  <span class="s1">&#39;POPULATION&#39;</span><span class="p">:</span> <span class="mi">19216182</span><span class="p">,</span>
  <span class="s1">&#39;FIRST INC.&#39;</span><span class="p">:</span> <span class="s1">&#39;01 March 2020&#39;</span><span class="p">,</span>
  <span class="s1">&#39;NUM DAYS&#39;</span><span class="p">:</span> <span class="mi">324</span><span class="p">,</span>
  <span class="s1">&#39;NUM CASES&#39;</span><span class="p">:</span> <span class="mi">1390557</span><span class="p">,</span>
  <span class="s1">&#39;NUM DEATHS&#39;</span><span class="p">:</span> <span class="mi">50378</span><span class="p">,</span>
  <span class="s1">&#39;MAX CASE COUNTY&#39;</span><span class="p">:</span> <span class="mi">541846</span><span class="p">,</span>
  <span class="s1">&#39;MAX CASE COUNTY NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;New York City, New York&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;RANK&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s1">&#39;PREFIX&#39;</span><span class="p">:</span> <span class="s1">&#39;losangeles&#39;</span><span class="p">,</span>
  <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;LA Metro Area&#39;</span><span class="p">,</span>
  <span class="s1">&#39;POPULATION&#39;</span><span class="p">:</span> <span class="mi">18711436</span><span class="p">,</span>
  <span class="s1">&#39;FIRST INC.&#39;</span><span class="p">:</span> <span class="s1">&#39;25 January 2020&#39;</span><span class="p">,</span>
  <span class="s1">&#39;NUM DAYS&#39;</span><span class="p">:</span> <span class="mi">360</span><span class="p">,</span>
  <span class="s1">&#39;NUM CASES&#39;</span><span class="p">:</span> <span class="mi">1828244</span><span class="p">,</span>
  <span class="s1">&#39;NUM DEATHS&#39;</span><span class="p">:</span> <span class="mi">21240</span><span class="p">,</span>
  <span class="s1">&#39;MAX CASE COUNTY&#39;</span><span class="p">:</span> <span class="mi">1032277</span><span class="p">,</span>
  <span class="s1">&#39;MAX CASE COUNTY NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;Los Angeles County, California&#39;</span><span class="p">}]</span>
</pre></div>
</div>
</p></li>
<li><p><strong>selected_metros</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – Optional argument. By default, will print or return information on <em>all</em> <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s. Otherwise specify the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s available as keys of the <a class="reference internal" href="#covid19_stats.COVID19Database.data_msas_2019" title="covid19_stats.COVID19Database.data_msas_2019"><code class="xref py py-meth docutils literal notranslate"><span class="pre">data_msas_2019</span></code></a> dictionary.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.core.display_tabulated_metros_fromjson">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.core.</span></code><code class="sig-name descname"><span class="pre">display_tabulated_metros_fromjson</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">summary_data_json</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.core.display_tabulated_metros_fromjson" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> data of summary COVID-19 death in <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s, and prints out to <a class="reference external" href="https://docutils.sourceforge.io/docs/ref/rst/directives.html#list-table">list-tabled reStructuredText</a>. An example of this data structure is <a class="reference download internal" download="" href="../_downloads/9249dccc9246275aae85ea2fabb4b0fa/core_summary_data.json"><code class="xref download docutils literal notranslate"><span class="pre">core_summary_data.json</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>summary_data_json</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of summary data of COVID-19 cumulative cases and deaths for <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s as <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> entries. This <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> is sorted from largest <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a> population to smallest. An example output is <a class="reference download internal" download="" href="../_downloads/9249dccc9246275aae85ea2fabb4b0fa/core_summary_data.json"><code class="xref download docutils literal notranslate"><span class="pre">core_summary_data.json</span></code></a> and shown <a class="reference internal" href="#summary-data-example"><span class="std std-ref">here</span></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.core.get_boundary_dict">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.core.</span></code><code class="sig-name descname"><span class="pre">get_boundary_dict</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fips_collection</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.core.get_boundary_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a> to the collection of geographic areas for that county. The geographic data comes from <a class="reference internal" href="#covid19_stats.COVID19Database.fips_data_2018" title="covid19_stats.COVID19Database.fips_data_2018"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fips_data_2018</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fips_collection</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.9)"><em>set</em></a>) – the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> of <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a>s of counties or US territorial units for which to get geographic information.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>. The key is the <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a> of a county or territorial unit, and the value is the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of geographic regions for that county or unit.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.core.get_clustering_fips">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.core.</span></code><code class="sig-name descname"><span class="pre">get_clustering_fips</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection_of_fips</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.core.get_clustering_fips" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the <em>separate</em> clusters of counties or territorial units that are clustered together. This is used to identify possibly <em>different</em> clusters of counties that may be separate from each other. If one does not supply an adjacency <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, it uses the adjacency dictionary that <a class="reference internal" href="#covid19_stats.COVID19Database.fips_adj_2018" title="covid19_stats.COVID19Database.fips_adj_2018"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fips_adj_2018</span></code></a> returns. Look at <a class="reference download internal" download="" href="../_downloads/fe45627bb5b517173a4d63a8a8219261/fips_2018_adj.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">fips_2018_adj.pkl.gz</span></code></a> to see what this dictionary looks like.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>collection_of_fips</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of counties or territorial units, each identified by its <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a>.</p></li>
<li><p><strong>adj</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – optionally specified adjacency dictionary. Otherwise it uses the <a class="reference internal" href="#covid19_stats.COVID19Database.fips_adj_2018" title="covid19_stats.COVID19Database.fips_adj_2018"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fips_adj_2018</span></code></a> returned dictionary. Look at <a class="reference download internal" download="" href="../_downloads/fe45627bb5b517173a4d63a8a8219261/fips_2018_adj.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">fips_2018_adj.pkl.gz</span></code></a> to see what this dictionary looks like.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of counties clustered together. Each cluster is a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> of <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a>s of counties grouped together.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.core.get_county_state">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.core.</span></code><code class="sig-name descname"><span class="pre">get_county_state</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fips</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.core.get_county_state" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fips</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – the <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a> of the county or territorial unit.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of <code class="docutils literal notranslate"><span class="pre">county</span></code> and <code class="docutils literal notranslate"><span class="pre">state</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.core.get_data_fips">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.core.</span></code><code class="sig-name descname"><span class="pre">get_data_fips</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fips</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.core.get_data_fips" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a county identified by its <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a>, Returns the COVID-19 cumulative cases and deaths record of a single county or territorial unit identified by its <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a>. Takes the data from the cumulative cases and deaths record of the NY Times COVID-19 database (see <a class="reference internal" href="#covid19_stats.COVID19Database.all_counties_nytimes_covid19_data" title="covid19_stats.COVID19Database.all_counties_nytimes_covid19_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">all_counties_nytimes_covid19_data</span></code></a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fips</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – the <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a> of the county or territorial unit.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a two-element <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>. First element is the <code class="docutils literal notranslate"><span class="pre">fips</span></code>, and the second is the <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> representing the cumulative COVID-19 cases and deaths <em>ordered</em> by earliest to latest date. This <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> has three columns: <code class="docutils literal notranslate"><span class="pre">date</span></code> is the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> of recorded incidence in that county, <code class="docutils literal notranslate"><span class="pre">cases_&lt;fips&gt;</span></code> is the cumulative COVID-19 cases on that <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a>, and <code class="docutils literal notranslate"><span class="pre">deaths_&lt;fips&gt;`</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">cumulative</span> <span class="pre">COVID-19</span> <span class="pre">deaths</span> <span class="pre">on</span> <span class="pre">that</span> <span class="pre">:py:class:`date</span> <span class="pre">&lt;datetime.date&gt;`.</span> <span class="pre">Here,</span> <span class="pre">``&lt;fips&gt;</span></code> is the FIPS code of that county.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.core.get_fips_msa">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.core.</span></code><code class="sig-name descname"><span class="pre">get_fips_msa</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">county</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.core.get_fips_msa" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a county and state of a county or territorial unit, returns its <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a> and the data structure on the <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a> in which this county lies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>county</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – county name.</p></li>
<li><p><strong>state</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – state name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a two-element <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>. First element is the county or territorial unit <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a>. Second element is the geographical information on the <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a> (see <a class="reference internal" href="#stlouis-msa-example-data"><span class="std std-ref">St. Louis data</span></a> for example).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.core.get_incident_data">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.core.</span></code><code class="sig-name descname"><span class="pre">get_incident_data</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiprocess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.core.get_incident_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Given geographical information on a region, will return COVID-19 cumulative statistics on all the counties or territorial units of that structure. Best to show by example.</p>
<p>For example, for the <code class="docutils literal notranslate"><span class="pre">bayearea</span></code> <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>, the output incident data structure for 26 February 2021 lives in <a class="reference download internal" download="" href="../_downloads/0fbd9c7408afabb39aa8aba2f5728b63/core_incident_data_bayarea.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">core_incident_data_bayarea.pkl.gz</span></code></a>. This structure is a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> with the following keys and values.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bbox</span></code> is a 4-element <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of the region bounding box: minimum lat/lng, and maximum lat/lng.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boundaries</span></code> is a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of boundary information. Each key is the <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a>, and its value is a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of boundary lat/lngs for that county or territorial unit. Look at <a class="reference download internal" download="" href="../_downloads/fd9403d1c766a71b9e77174e8db8426e/gis_calculate_total_bbox_sacramento.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">gis_calculate_total_bbox_sacramento.pkl.gz</span></code></a> for an example of this data structure.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">last</span> <span class="pre">day</span></code> is the number of days (from first COVID-19 incident) in this incident data set.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df</span></code> is the <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> that contains COVID-19 cumulative case and death data for all counties or territorial units in that region.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df_1day</span></code> is the <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> that contains the 1-day averaged COVID-19 <em>new</em> case and death data for all counties or territorial units in that region.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df_7day</span></code> is the <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> that contains the 7-day averaged COVID-19 <em>new</em> case and death data for all counties or territorial units in that region.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prefix`</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">:py:class:`string</span> <span class="pre">&lt;str&gt;`</span> <span class="pre">inherited</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">input</span> <span class="pre">``prefix</span></code> key in the <code class="docutils literal notranslate"><span class="pre">data</span></code> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">region</span> <span class="pre">name</span></code> is the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">string</span></code></a> inherited from the input <code class="docutils literal notranslate"><span class="pre">region</span> <span class="pre">name</span></code> key in the <code class="docutils literal notranslate"><span class="pre">data</span></code> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">population</span></code> is the <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> inherited from the input <code class="docutils literal notranslate"><span class="pre">population</span></code> key in the <code class="docutils literal notranslate"><span class="pre">data</span></code> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fips</span></code> is the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> inherited from the input <code class="docutils literal notranslate"><span class="pre">fips</span></code> key in the <code class="docutils literal notranslate"><span class="pre">data</span></code> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>.</p></li>
</ul>
<p>This <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pandas</span> <span class="pre">DataFrame</span></code></a>, located under the <code class="docutils literal notranslate"><span class="pre">df</span></code> key, has the following columns ordered by first to last incident date.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">days_from_beginning</span></code> is the day relative to the first incident. It starts at 0 and ends at <code class="docutils literal notranslate"><span class="pre">last</span> <span class="pre">day</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">date</span></code> contains the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> of the incident day, from first to last.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cases</span></code> are the cumulative COVID-19 cases for the whole region from first to last incident date.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">death</span></code> are the cumulative COVID-19 deaths for the whole region from first to last incident date.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cases_&lt;NUM&gt;</span></code> are the cumulative COVID-19 cases for a given county or territorial unit in the region (&lt;NUM&gt; is its <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a>) from first to last incident date.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">deaths_&lt;NUM&gt;</span></code> are the cumulative COVID-19 deaths for a given county or territorial unit in the region (&lt;NUM&gt; is its <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a>) from first to last incident date.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – Optional argument, but if specified is the geographical information of a region. By default is the <code class="docutils literal notranslate"><span class="pre">bayarea</span></code> <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>. See <a class="reference internal" href="#stlouis-msa-example-data"><span class="std std-ref">St. Louis data</span></a> for an example of an <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>. See <a class="reference internal" href="#rhode-island-state-example-data"><span class="std std-ref">Rhode Island data</span></a> for an example of a US state or territory. See <a class="reference internal" href="#conus-example-data"><span class="std std-ref">CONUS data</span></a> for the <a class="reference external" href="https://en.wikipedia.org/wiki/Contiguous_United_States">CONUS</a>.</p></li>
<li><p><strong>multiprocess</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, then use multiprocessing to get the incident data information, otherwise do not. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> described above, see <a class="reference download internal" download="" href="../_downloads/0fbd9c7408afabb39aa8aba2f5728b63/core_incident_data_bayarea.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">core_incident_data_bayarea.pkl.gz</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.core.get_max_cases_county">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.core.</span></code><code class="sig-name descname"><span class="pre">get_max_cases_county</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inc_data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.core.get_max_cases_county" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method that returns a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of the <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a>, county, state, and cases for the county or territorial unit, for the county in a region that has the <em>worst</em> number of COVID-19 cases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inc_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – the incident data structure for a region. See <a class="reference internal" href="#covid19_stats.engine.core.get_incident_data" title="covid19_stats.engine.core.get_incident_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_incident_data</span></code></a> for what this output looks like.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of summary information on the <em>worst-perfoming</em> county in the region, COVID-19 case wise. For <a class="reference download internal" download="" href="../_downloads/0fbd9c7408afabb39aa8aba2f5728b63/core_incident_data_bayarea.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">core_incident_data_bayarea.pkl.gz</span></code></a>, this is,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;fips&#39;</span><span class="p">:</span> <span class="s1">&#39;06085&#39;</span><span class="p">,</span>
 <span class="s1">&#39;cases&#39;</span><span class="p">:</span> <span class="mi">94366</span><span class="p">,</span>
 <span class="s1">&#39;county&#39;</span><span class="p">:</span> <span class="s1">&#39;Santa Clara County&#39;</span><span class="p">,</span>
 <span class="s1">&#39;state&#39;</span><span class="p">:</span> <span class="s1">&#39;California&#39;</span><span class="p">}</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.core.get_maximum_cases">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.core.</span></code><code class="sig-name descname"><span class="pre">get_maximum_cases</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inc_data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.core.get_maximum_cases" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method that returns a two-element <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of the <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a> and number of COVID-19 cases, for the <em>worst-performing</em> county, case-wise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inc_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – the incident data structure for a region. See <a class="reference internal" href="#covid19_stats.engine.core.get_incident_data" title="covid19_stats.engine.core.get_incident_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_incident_data</span></code></a> for what this output looks like.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>the two-element <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a> and cumulative number of COVID-19 cases. For <a class="reference download internal" download="" href="../_downloads/0fbd9c7408afabb39aa8aba2f5728b63/core_incident_data_bayarea.pkl.gz"><code class="xref download docutils literal notranslate"><span class="pre">core_incident_data_bayarea.pkl.gz</span></code></a>, this is,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="s1">&#39;06085&#39;</span><span class="p">,</span> <span class="mi">94366</span><span class="p">)</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.core.get_mp4_album_name">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.core.</span></code><code class="sig-name descname"><span class="pre">get_mp4_album_name</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inc_data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.core.get_mp4_album_name" title="Permalink to this definition">¶</a></dt>
<dd><p>This method operates on <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> movie output from command line tools that produce COVID-19 case and death summary movies – such as <a class="reference internal" href="../cli/covid19_create_movie_or_summary.html#covid19-create-movie-or-summary"><span class="std std-ref">covid19_create_movie_or_summary</span></a>, <a class="reference internal" href="../cli/covid19_state_summary.html#covid19-state-summary"><span class="std std-ref">covid19_state_summary</span></a>, or <a class="reference internal" href="../cli/covid19_movie_updates.html#covid19-movie-updates"><span class="std std-ref">covid19_movie_updates</span></a> – or methods that create <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> files – such as <a class="reference internal" href="#covid19_stats.engine.viz.create_summary_cases_or_deaths_movie_frombeginning" title="covid19_stats.engine.viz.create_summary_cases_or_deaths_movie_frombeginning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_summary_cases_or_deaths_movie_frombeginning</span></code></a> or <a class="reference internal" href="#covid19_stats.engine.viz.create_summary_movie_frombeginning" title="covid19_stats.engine.viz.create_summary_movie_frombeginning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_summary_movie_frombeginning</span></code></a>.</p>
<p>It determines whether the geographic region is classified as a <code class="docutils literal notranslate"><span class="pre">STATE</span></code>, <code class="docutils literal notranslate"><span class="pre">CONUS</span></code>, or a <code class="docutils literal notranslate"><span class="pre">METROPOLITAN</span> <span class="pre">STATISTICAL</span> <span class="pre">AREA</span></code>. It is used in four CLI functionalities:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../cli/covid19_create_movie_or_summary.html#movie-mode"><span class="std std-ref">movie mode functionality for covid19_create_movie_or_summary</span></a>.</p></li>
<li><p><a class="reference internal" href="../cli/covid19_create_movie_or_summary.html#movie-cases-deaths-mode"><span class="std std-ref">movie cases death mode functionality for covid19_create_movie_or_summary</span></a>.</p></li>
<li><p><a class="reference internal" href="../cli/covid19_state_summary.html#movie-mode-state"><span class="std std-ref">movie mode functionality for covid19_state_summary</span></a>.</p></li>
<li><p><a class="reference internal" href="../cli/covid19_state_summary.html#movie-cases-deaths-mode-state"><span class="std std-ref">movie cases death mode functionality for covid19_state_summary</span></a>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inc_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – <p>the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> that <em>contains</em> geographic data on the identified region. See <a class="reference internal" href="#stlouis-msa-example-data"><span class="std std-ref">St. Louis data</span></a> for an example of an <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a> geographic data <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>. See <a class="reference internal" href="#rhode-island-state-example-data"><span class="std std-ref">Rhode Island data</span></a> for an example of a US state or territory. See <a class="reference internal" href="#conus-example-data"><span class="std std-ref">CONUS data</span></a> for the <a class="reference external" href="https://en.wikipedia.org/wiki/Contiguous_United_States">CONUS</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;prefix&#39;</span><span class="p">:</span> <span class="s1">&#39;providence&#39;</span><span class="p">,</span>
 <span class="s1">&#39;region name&#39;</span><span class="p">:</span> <span class="s1">&#39;Providence Metro Area&#39;</span><span class="p">,</span>
 <span class="s1">&#39;fips&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;25005&#39;</span><span class="p">,</span> <span class="s1">&#39;44001&#39;</span><span class="p">,</span> <span class="s1">&#39;44003&#39;</span><span class="p">,</span> <span class="s1">&#39;44005&#39;</span><span class="p">,</span> <span class="s1">&#39;44007&#39;</span><span class="p">,</span> <span class="s1">&#39;44009&#39;</span><span class="p">},</span>
 <span class="s1">&#39;population&#39;</span><span class="p">:</span> <span class="mi">1624578</span><span class="p">}</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If the <code class="docutils literal notranslate"><span class="pre">prefix</span></code> is one of the <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s, <code class="docutils literal notranslate"><span class="pre">METROPOLITAN</span> <span class="pre">STATISTICAL</span> <span class="pre">AREA</span></code>. If its <code class="docutils literal notranslate"><span class="pre">prefix</span></code> is identified as a state, then <code class="docutils literal notranslate"><span class="pre">STATE</span></code>. If its prefix is <code class="docutils literal notranslate"><span class="pre">conus</span></code>, then <code class="docutils literal notranslate"><span class="pre">CONUS</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.core.get_msa_data">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.core.</span></code><code class="sig-name descname"><span class="pre">get_msa_data</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msaname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.core.get_msa_data" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>msaname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – the identifier name for the <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>, which must be one of the keys in the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> that <a class="reference internal" href="#covid19_stats.COVID19Database.data_msas_2019" title="covid19_stats.COVID19Database.data_msas_2019"><code class="xref py py-meth docutils literal notranslate"><span class="pre">data_msas_2019</span></code></a> returns.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a> geographical information (see <a class="reference internal" href="#stlouis-msa-example-data"><span class="std std-ref">St. Louis data</span></a> for example).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="covid19-stats-engine-viz-module">
<h2><span class="section-number">4.5. </span>covid19_stats.engine.viz module<a class="headerlink" href="#covid19-stats-engine-viz-module" title="Permalink to this headline">¶</a></h2>
<p>This module provides visualization methods for COVID-19 cumulative cases and deaths for <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s, states, and the <a class="reference external" href="https://en.wikipedia.org/wiki/Contiguous_United_States">CONUS</a>.  These command line interfaces – <a class="reference internal" href="../cli/covid19_create_movie_or_summary.html#covid19-create-movie-or-summary"><span class="std std-ref">covid19_create_movie_or_summary</span></a>, <a class="reference internal" href="../cli/covid19_state_summary.html#covid19-state-summary"><span class="std std-ref">covid19_state_summary</span></a>, and <a class="reference internal" href="../cli/covid19_movie_updates.html#covid19-movie-updates"><span class="std std-ref">covid19_movie_updates</span></a> – are front-ends to the methods in this module.</p>
<span class="target" id="module-covid19_stats.engine.viz"></span><dl class="py function">
<dt id="covid19_stats.engine.viz.create_and_draw_fromfig">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.viz.</span></code><code class="sig-name descname"><span class="pre">create_and_draw_fromfig</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">river_linewidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">river_alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coast_linewidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coast_alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drawGrid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mult_bounds_lat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mult_bounds_lng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.viz.create_and_draw_fromfig" title="Permalink to this definition">¶</a></dt>
<dd><p>This creates an <a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a>, with lots of physical geographic features, and optional (but turned on by default) latitude and longitude gridding, of a region specified by a bounding box. This uses <a class="reference external" href="https://en.wikipedia.org/wiki/Stereographic_projection">stereographic projection</a>. For example, here is the <a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a> displaying the <a class="reference external" href="https://en.wikipedia.org/wiki/Contiguous_United_States">CONUS</a>.</p>
<div class="figure align-left" id="id18">
<span id="viz-create-and-draw-fromfig-conus"></span><a class="reference internal image-reference" href="../_images/viz_create_and_draw_fromfig_conus.png"><img alt="../_images/viz_create_and_draw_fromfig_conus.png" src="../_images/viz_create_and_draw_fromfig_conus.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 4.4 </span><span class="caption-text">Demonstrations of this functionality, which underlies (or overlays?) the geographical features for visualizing COVID-19 cases and deaths.</span><a class="headerlink" href="#id18" title="Permalink to this image">¶</a></p>
</div>
<p>Here are the arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fig</strong> – the <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Figure</span></code></a> onto which to create a <a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a> containing geographic features. Last three arguments – <code class="docutils literal notranslate"><span class="pre">rows</span></code>, <code class="docutils literal notranslate"><span class="pre">cols</span></code>, and <code class="docutils literal notranslate"><span class="pre">num</span></code> – describe the relative placement of the created <a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a>. See <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.add_subplot" title="(in Matplotlib v3.3.4)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_subplot</span></code></a> for those three arguments’ meanings.</p></li>
<li><p><strong>bbox</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><em>tuple</em></a>) – a four-element <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>. Elements in order are <em>minimum</em> longitude, <em>minimum</em> latitude, <em>maximum</em> longitude, and <em>maximum</em> latitude.</p></li>
<li><p><strong>river_linewidth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the width, in pixels, of river geographical features.</p></li>
<li><p><strong>river_alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – the color alpha of river geographical features.</p></li>
<li><p><strong>coast_linewidth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the width, in pixels, of the coast lines.</p></li>
<li><p><strong>coast_alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – the color alpha of coast lines.</p></li>
<li><p><strong>drawGrid</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, then overlay the latitude and longitude grid lines. Otherwise do not. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>mult_bounds_lat</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – often times, especially with geographic regions that cover a significant area of the earth, we need to put a multiplier <span class="math notranslate nohighlight">\(&gt; 1\)</span> on the <em>latitudinal</em> extent of the plot, so that <em>all</em> features can be seen. By default this value is 1.05, but it must be <span class="math notranslate nohighlight">\(\ge 1\)</span>.</p></li>
<li><p><strong>mult_bounds_lng</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – often times, especially with geographic regions that cover a significant area of the earth, we need to put a multiplier <span class="math notranslate nohighlight">\(&gt; 1\)</span> on the <em>longitudinal</em> extent of the plot, so that <em>all</em> features can be seen. By default this value is 1.05, but it must be <span class="math notranslate nohighlight">\(\ge 1\)</span>.</p></li>
<li><p><strong>rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the number of rows for axes in the <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Figure</span></code></a> grid. Must be <span class="math notranslate nohighlight">\(\ge 1\)</span>, and by default is 1.</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the number of columns for axes in the <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Figure</span></code></a> grid. Must be <span class="math notranslate nohighlight">\(\ge 1\)</span>, and by default is 1.</p></li>
<li><p><strong>num</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the plot number of the <a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a> in this <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Figure</span></code></a> grid. Must be <span class="math notranslate nohighlight">\(\ge 1\)</span> and <span class="math notranslate nohighlight">\(\le\)</span><code class="docutils literal notranslate"><span class="pre">rows</span></code> times <code class="docutils literal notranslate"><span class="pre">columns</span></code>. Its default is 1. Look at <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.add_subplot" title="(in Matplotlib v3.3.4)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_subplot</span></code></a> for its  meaning.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.viz.create_plots_daysfrombeginning">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.viz.</span></code><code class="sig-name descname"><span class="pre">create_plots_daysfrombeginning</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inc_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regionName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_from_beginning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/usr/WS2/islam5/covid19_stats/docsrc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxnum_colorbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.viz.create_plots_daysfrombeginning" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a collection of quad <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> images (see <a class="reference internal" href="../cli/covid19_create_movie_or_summary.html#movie-mode"><span class="std std-numref">Section 3.2.3</span></a> or <a class="reference internal" href="../cli/covid19_state_summary.html#movie-mode-state"><span class="std std-numref">Section 3.3.2</span></a>) representing state of cumulative COVID-19 cases and deaths for a geographical region. Like <a class="reference internal" href="../cli/covid19_create_movie_or_summary.html#movie-mode"><span class="std std-ref">movie mode</span></a> in <a class="reference internal" href="../cli/covid19_create_movie_or_summary.html#covid19-create-movie-or-summary"><span class="std std-ref">covid19_create_movie_or_summary</span></a> or <a class="reference internal" href="../cli/covid19_state_summary.html#movie-mode-state"><span class="std std-ref">state movie mode</span></a>, the four quadrants are,</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">upper</span> <span class="pre">left</span></code> is the summary information for the geographical region.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lower</span> <span class="pre">left</span></code> is the running tally of cumulative cases and deaths, by day from first incident.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">upper</span> <span class="pre">right</span></code> is the <em>logarithmic</em> coloration of cumulative deaths, by day from first incident.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lower</span> <span class="pre">right</span></code> is the <em>logarithmic</em> coloration of cumulative cases, by day from first incident.</p></li>
</ul>
<p><a class="reference internal" href="#covid19_stats.engine.viz.create_summary_movie_frombeginning" title="covid19_stats.engine.viz.create_summary_movie_frombeginning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_summary_movie_frombeginning</span></code></a> uses this functionality in a multiprocessing fashion to create <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> movie files geographical regions. It is easier to show rather than tell. <a class="reference internal" href="#viz-create-plots-daysfrombeginning-nyc"><span class="std std-numref">Fig. 4.5</span></a> is a quad plot of cumulative COVID-19 cases and deaths NYC metro area, 150 days after this metro’s first COVID-19 incident, that is created by this function.</p>
<div class="figure align-left" id="id19">
<span id="viz-create-plots-daysfrombeginning-nyc"></span><a class="reference internal image-reference" href="../_images/covid19_nyc_LATEST.0150.png"><img alt="../_images/covid19_nyc_LATEST.0150.png" src="../_images/covid19_nyc_LATEST.0150.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 4.5 </span><span class="caption-text">Quad plot of cumulative COVID-19 cases and deaths for the NYC metro area, 150 days after its first incident. The name of the file is <code class="docutils literal notranslate"><span class="pre">covid19_nyc_LATEST.0150.png</span></code>.</span><a class="headerlink" href="#id19" title="Permalink to this image">¶</a></p>
</div>
<p>The collection of <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> images that this method creates are auto-cropped and, where needed, <em>resized</em> so that their widths and heights are even numbers. <a class="reference external" href="https://en.wikipedia.org/wiki/FFmpeg">FFmpeg</a>, run through <a class="reference internal" href="#covid19_stats.engine.viz.create_summary_movie_frombeginning" title="covid19_stats.engine.viz.create_summary_movie_frombeginning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_summary_movie_frombeginning</span></code></a>, cannot create an <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> from <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a>s unless the images’ widths and heights are divisible by 2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inc_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – the data for incidence of COVID-19 cases and deaths for a given geographical region. See <a class="reference internal" href="#covid19_stats.engine.core.get_incident_data" title="covid19_stats.engine.core.get_incident_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_incident_data</span></code></a> for the format of the output data.</p></li>
<li><p><strong>regionName</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – the name of the region to display in title plots. For example, in <a class="reference internal" href="#viz-plot-cases-or-deaths-bycounty-nyc"><span class="std std-numref">Fig. 4.10</span></a>, this is <code class="docutils literal notranslate"><span class="pre">NYC</span> <span class="pre">Metro</span> <span class="pre">Area</span></code>.</p></li>
<li><p><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – the identifying name to put into the output <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> files. For example, in <a class="reference internal" href="#viz-create-plots-daysfrombeginning-nyc"><span class="std std-numref">Fig. 4.5</span></a>, the <code class="docutils literal notranslate"><span class="pre">prefix</span></code> is <code class="docutils literal notranslate"><span class="pre">nyc</span></code>, and the name of the file is <code class="docutils literal notranslate"><span class="pre">covid19_nyc_LATEST.0150.png</span></code>. If the prefix is <code class="docutils literal notranslate"><span class="pre">conus</span></code>, then this module creates plots appropriate for geographic regions (such as <a class="reference external" href="https://en.wikipedia.org/wiki/Contiguous_United_States">CONUS</a>) that cover significant areas of the earth’s surface.</p></li>
<li><p><strong>days_from_beginning</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of days to create quad <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> images. Must be nonempty, and every element must be <span class="math notranslate nohighlight">\(\ge 0\)</span>. Default is <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">0,</span> <span class="pre">]</span></code>.</p></li>
<li><p><strong>dirname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – the directory into which to save the quad <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> images. The default is the current working directory.</p></li>
<li><p><strong>maxnum_colorbar</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – the coloring limits for the plots of cumulative cases (lower right) and cumulative deaths (upper right). Must be <span class="math notranslate nohighlight">\(\ge 1\)</span>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of filenames of <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> quad images that this method creates, into <code class="docutils literal notranslate"><span class="pre">dirname</span></code>. For example, in the method invocation shown in <a class="reference internal" href="#viz-create-plots-daysfrombeginning-nyc"><span class="std std-numref">Fig. 4.5</span></a>, <code class="docutils literal notranslate"><span class="pre">days_from_beginning</span> <span class="pre">=</span> <span class="pre">[</span> <span class="pre">150,</span> <span class="pre">]</span></code>, and the list this method returns is <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">'&lt;dirname&gt;/covid19_nyc_LATEST.0150.png',</span> <span class="pre">]</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.viz.create_summary_cases_or_deaths_movie_frombeginning">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.viz.</span></code><code class="sig-name descname"><span class="pre">create_summary_cases_or_deaths_movie_frombeginning</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inc_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxnum_colorbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_disp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cases'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/usr/WS2/islam5/covid19_stats/docsrc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_imgfiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.viz.create_summary_cases_or_deaths_movie_frombeginning" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the back-end method for <a class="reference internal" href="../cli/covid19_create_movie_or_summary.html#movie-cases-deaths-mode"><span class="std std-ref">movie cases deaths mode</span></a> for <a class="reference internal" href="../cli/covid19_create_movie_or_summary.html#covid19-create-movie-or-summary"><span class="std std-ref">covid19_create_movie_or_summary</span></a>, and <a class="reference internal" href="../cli/covid19_state_summary.html#movie-cases-deaths-mode-state"><span class="std std-ref">state movie cases deaths mode</span></a> for <a class="reference internal" href="../cli/covid19_state_summary.html#covid19-state-summary"><span class="std std-ref">covid19_state_summary</span></a>. This creates an <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> movie file of cumulative COVID-19 cases <em>or</em> deaths, with identifying metadata, for a given geographical region. <a class="reference internal" href="#viz-create-summary-cases-or-deaths-movie-frombeginning-table"><span class="std std-numref">Table 4.1</span></a> shows the <em>resulting</em> <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> movie files, of cumulative COVID-19 cases and deaths, for the NYC metro area (top row), and the state of <a class="reference external" href="https://en.wikipedia.org/wiki/Virginia">Virginia</a> (bottom row).</p>
<span id="viz-create-summary-cases-or-deaths-movie-frombeginning-table"></span><table class="colwidths-auto docutils align-default" id="id20">
<caption><span class="caption-number">Table 4.1 </span><span class="caption-text">Latest cumulative COVID-19 cases, and deaths, for the NYC metro area and <a class="reference external" href="https://en.wikipedia.org/wiki/Virginia">Virginia</a></span><a class="headerlink" href="#id20" title="Permalink to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><video controls width="100%">
<source src="https://tanimislam.github.io/covid19movies/covid19_nyc_cases_LATEST.mp4">
</video></p></td>
<td><p><video controls width="100%">
<source src="https://tanimislam.github.io/covid19movies/covid19_nyc_deaths_LATEST.mp4">
</video></p></td>
</tr>
<tr class="row-even"><td><p>NYC metro area, latest movie of COVID-19 cumulative cases</p></td>
<td><p>NYC metro area, latest movie of COVID-19 cumulative deaths</p></td>
</tr>
<tr class="row-odd"><td><p><video controls width="100%">
<source src="https://tanimislam.github.io/covid19movies/covid19_virginia_cases_LATEST.mp4">
</video></p></td>
<td><p><video controls width="100%">
<source src="https://tanimislam.github.io/covid19movies/covid19_virginia_deaths_LATEST.mp4">
</video></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://en.wikipedia.org/wiki/Virginia">Virginia</a>, latest movie of COVID-19 cumulative cases</p></td>
<td><p><a class="reference external" href="https://en.wikipedia.org/wiki/Virginia">Virginia</a>, latest movie of COVID-19 cumulative deaths</p></td>
</tr>
</tbody>
</table>
<p>Here are the arguments,</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inc_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – the data for incidence of COVID-19 cases and deaths for a given geographical region. See <a class="reference internal" href="#covid19_stats.engine.core.get_incident_data" title="covid19_stats.engine.core.get_incident_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_incident_data</span></code></a> for the format of the output data.</p></li>
<li><p><strong>maxnum_colorbar</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – the coloring limits for the plot. Must be <span class="math notranslate nohighlight">\(\ge 1\)</span>.</p></li>
<li><p><strong>type_disp</strong> – if <code class="docutils literal notranslate"><span class="pre">cases</span></code>, then show cumulative COVID-19 cases. If <code class="docutils literal notranslate"><span class="pre">deaths</span></code>, then show cumulative COVID-19 deaths. Can only be <code class="docutils literal notranslate"><span class="pre">cases</span></code> or <code class="docutils literal notranslate"><span class="pre">deaths</span></code>.</p></li>
<li><p><strong>dirname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – the directory into which to save the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> movie file, and optionally a <a class="reference external" href="https://en.wikipedia.org/wiki/ZIP_(file_format)">zip archive</a> of the <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> image files used to create the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> movie. The default is the current working directory.</p></li>
<li><p><strong>save_imgfiles</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, then will create a <a class="reference external" href="https://en.wikipedia.org/wiki/ZIP_(file_format)">zip archive</a> of the <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> image files used to create the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> movie. Its full name is <code class="docutils literal notranslate"><span class="pre">&lt;dirname&gt;/covid19_&lt;prefix&gt;_&lt;type_disp&gt;_LATEST_imagefiles.zip</span></code>. <code class="docutils literal notranslate"><span class="pre">&lt;dirname&gt;</span></code> is the directory to save the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file, <code class="docutils literal notranslate"><span class="pre">&lt;prefix&gt;</span></code> is the region name prefix (for example <code class="docutils literal notranslate"><span class="pre">nyc</span></code> for the NYC metro area) located in <code class="docutils literal notranslate"><span class="pre">inc_data['prefix']</span></code>, and <code class="docutils literal notranslate"><span class="pre">&lt;type_disp&gt;</span></code> is either <code class="docutils literal notranslate"><span class="pre">cases</span></code> or <code class="docutils literal notranslate"><span class="pre">death</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the base name of the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> movie file it creates. For example, if <code class="docutils literal notranslate"><span class="pre">inc_data['prefix']</span></code> is <code class="docutils literal notranslate"><span class="pre">nyc</span></code> and <code class="docutils literal notranslate"><span class="pre">type_disp</span></code> is <code class="docutils literal notranslate"><span class="pre">cases</span></code>, this method returns <code class="docutils literal notranslate"><span class="pre">covid19_nyc_cases_LATEST.mp4</span></code>. This method also saves the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file as <code class="docutils literal notranslate"><span class="pre">&lt;dirname&gt;/covid19_nyc_cases_LATEST.mp4</span></code>, where <code class="docutils literal notranslate"><span class="pre">&lt;dirname&gt;</span></code> is the directory to save the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.viz.create_summary_movie_frombeginning">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.viz.</span></code><code class="sig-name descname"><span class="pre">create_summary_movie_frombeginning</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inc_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxnum_colorbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/usr/WS2/islam5/covid19_stats/docsrc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_imgfiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.viz.create_summary_movie_frombeginning" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the back-end method for <a class="reference internal" href="../cli/covid19_create_movie_or_summary.html#movie-mode"><span class="std std-ref">movie mode</span></a> for <a class="reference internal" href="../cli/covid19_create_movie_or_summary.html#covid19-create-movie-or-summary"><span class="std std-ref">covid19_create_movie_or_summary</span></a>, and <a class="reference internal" href="../cli/covid19_state_summary.html#movie-mode-state"><span class="std std-ref">state movie mode</span></a> for <a class="reference internal" href="../cli/covid19_state_summary.html#covid19-state-summary"><span class="std std-ref">covid19_state_summary</span></a>. This creates an <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> quad movie file of both cumulative COVID-19 cases and deaths for a geographical region, and <em>optionally</em> a <a class="reference external" href="https://en.wikipedia.org/wiki/ZIP_(file_format)">zip archive</a> of <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> images used to create the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file. This uses <a class="reference internal" href="#covid19_stats.engine.viz.create_plots_daysfrombeginning" title="covid19_stats.engine.viz.create_plots_daysfrombeginning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_plots_daysfrombeginning</span></code></a> in a multiprocessing function, to create sub-collections of <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> quad images, and then collate them into an <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file using <a class="reference external" href="https://en.wikipedia.org/wiki/FFmpeg">FFmpeg</a>. <a class="reference internal" href="#viz-create-summary-movie-frombeginning-table"><span class="std std-numref">Table 4.2</span></a> shows the <em>resulting</em> <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> movie files, of cumulative COVID-19 cases and deaths, for the NYC metro area and the state of <a class="reference external" href="https://en.wikipedia.org/wiki/Virginia">Virginia</a>.</p>
<span id="viz-create-summary-movie-frombeginning-table"></span><table class="colwidths-auto docutils align-default" id="id21">
<caption><span class="caption-number">Table 4.2 </span><span class="caption-text">Latest cumulative quad movies of COVID-19 for the NYC metro area and <a class="reference external" href="https://en.wikipedia.org/wiki/Virginia">Virginia</a></span><a class="headerlink" href="#id21" title="Permalink to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><video controls width="100%">
<source src="https://tanimislam.github.io/covid19movies/covid19_nyc_LATEST.mp4">
</video></p></td>
<td><p><video controls width="100%">
<source src="https://tanimislam.github.io/covid19movies/covid19_virginia_LATEST.mp4">
</video></p></td>
</tr>
<tr class="row-even"><td><p>NYC metro area, latest quad movie of COVID-19 cumulative cases and deaths</p></td>
<td><p><a class="reference external" href="https://en.wikipedia.org/wiki/Virginia">Virginia</a>, latest quad movie of COVID-19 cumulative cases and deaths</p></td>
</tr>
</tbody>
</table>
<p>Here are the arguments,</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inc_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – the data for incidence of COVID-19 cases and deaths for a given geographical region. See <a class="reference internal" href="#covid19_stats.engine.core.get_incident_data" title="covid19_stats.engine.core.get_incident_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_incident_data</span></code></a> for the format of the output data.</p></li>
<li><p><strong>maxnum_colorbar</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – the coloring limits for the plots of cumulative cases (lower right) and cumulative deaths (upper right) in the quad movie. Must be <span class="math notranslate nohighlight">\(\ge 1\)</span>.</p></li>
<li><p><strong>dirname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – the directory into which to save the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> movie file, and optionally a <a class="reference external" href="https://en.wikipedia.org/wiki/ZIP_(file_format)">zip archive</a> of the <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> image files used to create the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> movie. The default is the current working directory.</p></li>
<li><p><strong>save_imgfiles</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, then will create a <a class="reference external" href="https://en.wikipedia.org/wiki/ZIP_(file_format)">zip archive</a> of the <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> image files used to create the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> movie. Its full name is <code class="docutils literal notranslate"><span class="pre">&lt;dirname&gt;/covid19_&lt;prefix&gt;_LATEST_imagefiles.zip</span></code>. <code class="docutils literal notranslate"><span class="pre">&lt;dirname&gt;</span></code> is the directory to save the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file, and <code class="docutils literal notranslate"><span class="pre">&lt;prefix&gt;</span></code> is the region name prefix (for example <code class="docutils literal notranslate"><span class="pre">nyc</span></code> for the NYC metro area) located in <code class="docutils literal notranslate"><span class="pre">inc_data['prefix']</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the base name of the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> movie file it creates. For example, if <code class="docutils literal notranslate"><span class="pre">inc_data['prefix']</span></code> is <code class="docutils literal notranslate"><span class="pre">nyc</span></code>, this method returns <code class="docutils literal notranslate"><span class="pre">covid19_nyc_LATEST.mp4</span></code>. This method also saves the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file as <code class="docutils literal notranslate"><span class="pre">&lt;dirname&gt;/covid19_nyc_LATEST.mp4</span></code>, where <code class="docutils literal notranslate"><span class="pre">&lt;dirname&gt;</span></code> is the directory to save the <a class="reference external" href="https://en.wikipedia.org/wiki/MPEG-4_Part_14">MP4</a> file.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.viz.display_fips">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.viz.</span></code><code class="sig-name descname"><span class="pre">display_fips</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection_of_fips</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.viz.display_fips" title="Permalink to this definition">¶</a></dt>
<dd><p>Method that is very similar to <a class="reference internal" href="#covid19_stats.engine.viz.display_fips_geom" title="covid19_stats.engine.viz.display_fips_geom"><code class="xref py py-meth docutils literal notranslate"><span class="pre">display_fips_geom</span></code></a>, except this <em>also</em> displays the FIPS code of each county. For example, for <a class="reference external" href="https://en.wikipedia.org/wiki/Rhode_Island">Rhode Island</a>, this is.</p>
<div class="figure align-left" id="id22">
<span id="viz-display-fips-rhodeisland"></span><a class="reference internal image-reference" href="../_images/viz_display_fips_rhodeisland.png"><img alt="../_images/viz_display_fips_rhodeisland.png" src="../_images/viz_display_fips_rhodeisland.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 4.6 </span><span class="caption-text">Demonstration of this method showing the counties in <a class="reference external" href="https://en.wikipedia.org/wiki/Rhode_Island">Rhode Island</a>. The FIPS code of each county is shown in red. One can extract the patches in this object to manually change the colors of these county polygons.</span><a class="headerlink" href="#id22" title="Permalink to this image">¶</a></p>
</div>
<p>Here are the arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>collection_of_fips</strong> – can be a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a>, or other iterable of FIPS codes to visualize and label.</p></li>
<li><p><strong>fig</strong> – the <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Figure</span></code></a> onto which to draw this <a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.viz.display_fips_geom">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.viz.</span></code><code class="sig-name descname"><span class="pre">display_fips_geom</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fips_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.viz.display_fips_geom" title="Permalink to this definition">¶</a></dt>
<dd><p>Demonstrative plot, returning a <a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a>, of a FIPS data collection. For example, for the NYC Metro Area, this is,</p>
<div class="figure align-left" id="id23">
<span id="viz-display-fips-geom-nyc"></span><a class="reference internal image-reference" href="../_images/viz_display_fips_geom_nyc.png"><img alt="../_images/viz_display_fips_geom_nyc.png" src="../_images/viz_display_fips_geom_nyc.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 4.7 </span><span class="caption-text">Demonstration of this method showing the counties in the NYC Metro Area. One can extract the patches in this object to manually change the colors of these county polygons.</span><a class="headerlink" href="#id23" title="Permalink to this image">¶</a></p>
</div>
<p>Here are the arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fips_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of FIPS geographic data. This has keys of <code class="docutils literal notranslate"><span class="pre">prefix</span></code>, <code class="docutils literal notranslate"><span class="pre">fips</span></code>, and <code class="docutils literal notranslate"><span class="pre">population</span></code>. Look at <a class="reference internal" href="#stlouis-msa-example-data"><span class="std std-ref">the St. Louis FIPS region data</span></a> for its structure.</p></li>
<li><p><strong>fig</strong> – the <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Figure</span></code></a> onto which to draw this <a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.viz.display_msa">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.viz.</span></code><code class="sig-name descname"><span class="pre">display_msa</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msaname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doShow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.viz.display_msa" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method that visualizes and labels, by FIPS code, the counties in a <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">Metropolitan Statistical Area</a>. It can optionally save the output to a file, <code class="docutils literal notranslate"><span class="pre">msa_&lt;msaname&gt;_counties.png</span></code>. Here is an example of the NYC Metro Area.</p>
<div class="figure align-left" id="id24">
<span id="viz-display-msa-nyc"></span><a class="reference internal image-reference" href="../_images/viz_display_msa_nyc.png"><img alt="../_images/viz_display_msa_nyc.png" src="../_images/viz_display_msa_nyc.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 4.8 </span><span class="caption-text">Display of the NYC Metro Area, with extra annotations beyond what <a class="reference internal" href="#covid19_stats.engine.viz.display_fips" title="covid19_stats.engine.viz.display_fips"><code class="xref py py-meth docutils literal notranslate"><span class="pre">display_fips</span></code></a> can do.</span><a class="headerlink" href="#id24" title="Permalink to this image">¶</a></p>
</div>
<p>Here are the arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msaname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – the identifying name for the <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>, for example <code class="docutils literal notranslate"><span class="pre">nyc</span></code>.</p></li>
<li><p><strong>fig</strong> – the <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Figure</span></code></a> onto which to draw this <a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a>.</p></li>
<li><p><strong>doShow</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – if <code class="docutils literal notranslate"><span class="pre">False</span></code>, then just display the figure. If <code class="docutils literal notranslate"><span class="pre">True</span></code>, also save to a file, <code class="docutils literal notranslate"><span class="pre">msa_&lt;msaname&gt;_counties.png</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.viz.get_summary_demo_data">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.viz.</span></code><code class="sig-name descname"><span class="pre">get_summary_demo_data</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inc_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxnum_colorbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/usr/WS2/islam5/covid19_stats/docsrc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">store_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.viz.get_summary_demo_data" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the back-end method for <a class="reference internal" href="../cli/covid19_create_movie_or_summary.html#show-mode"><span class="std std-ref">show mode</span></a> for <a class="reference internal" href="../cli/covid19_create_movie_or_summary.html#covid19-create-movie-or-summary"><span class="std std-ref">covid19_create_movie_or_summary</span></a>, and <a class="reference internal" href="../cli/covid19_state_summary.html#show-mode-state"><span class="std std-ref">state show mode</span></a> for <a class="reference internal" href="../cli/covid19_state_summary.html#covid19-state-summary"><span class="std std-ref">covid19_state_summary</span></a>. This creates <em>six</em> or <em>seven</em> files for a given geographical region. Given an input <code class="docutils literal notranslate"><span class="pre">inc_data</span></code> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, it produces six files by default. Here <code class="docutils literal notranslate"><span class="pre">prefix</span></code> is the value of <code class="docutils literal notranslate"><span class="pre">inc_data['prefix']</span></code> (for example <code class="docutils literal notranslate"><span class="pre">nyc</span></code> for the NYC metro area).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">covid19_&lt;prefix&gt;_cases_LATEST.pdf</span></code> and <code class="docutils literal notranslate"><span class="pre">covid19_&lt;prefix&gt;_cases_LATEST.png</span></code>: a <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> and <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> plot of the <em>latest</em> cumulative COVID-19 cases for the geographical region.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">covid19_&lt;prefix&gt;_death_LATEST.pdf</span></code> and <code class="docutils literal notranslate"><span class="pre">covid19_&lt;prefix&gt;_death_LATEST.png</span></code>: a <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> and <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> plot of the <em>latest</em> cumulative COVID-19 deaths for the geographical region.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">covid19_&lt;prefix&gt;_cds_LATEST.pdf</span></code> and <code class="docutils literal notranslate"><span class="pre">covid19_&lt;prefix&gt;_cds_LATEST.png</span></code>: a <a class="reference external" href="https://en.wikipedia.org/wiki/PDF">PDF</a> and <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> plot of the <em>latest</em> cumulative COVID-19 case and death trend lines for the geographical region.</p></li>
</ul>
<p>Optionally, one can choose to dump out a serialized <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pandas</span> <span class="pre">DataFrame</span></code></a> of the COVID-19 cases and deaths, total and per county, from the date of first incident to the latest incident. Its file name is <code class="docutils literal notranslate"><span class="pre">covid19_&lt;prefix&gt;_LATEST.pkl.gz</span></code>.</p>
<p><a class="reference internal" href="#viz-get-summary-demo-data-nyc"><span class="std std-numref">Table 4.3</span></a> displays the <em>latest</em> output for the NYC metro area.</p>
<span id="viz-get-summary-demo-data-nyc"></span><table class="colwidths-auto docutils align-default" id="id25">
<caption><span class="caption-number">Table 4.3 </span><span class="caption-text">Latest plots of cumulative COVID-19 cases, deaths, and trend lines for the NYC metro area</span><a class="headerlink" href="#id25" title="Permalink to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="https://tanimislam.github.io/covid19movies/covid19_nyc_cases_LATEST.png"><img alt="covid19_nyc_cases_latest" class="align-middle" src="https://tanimislam.github.io/covid19movies/covid19_nyc_cases_LATEST.png" style="width: 100%;" /></a></p></td>
<td><p><a class="reference internal" href="https://tanimislam.github.io/covid19movies/covid19_nyc_death_LATEST.png"><img alt="covid19_nyc_death_latest" class="align-middle" src="https://tanimislam.github.io/covid19movies/covid19_nyc_death_LATEST.png" style="width: 100%;" /></a></p></td>
<td><p><a class="reference internal" href="https://tanimislam.github.io/covid19movies/covid19_nyc_cds_LATEST.png"><img alt="covid19_nyc_cds_latest" class="align-middle" src="https://tanimislam.github.io/covid19movies/covid19_nyc_cds_LATEST.png" style="width: 100%;" /></a></p></td>
</tr>
<tr class="row-even"><td><p>NYC metro area, plot of latest COVID-19 cumulative cases</p></td>
<td><p>NYC metro area, plot of latest COVID-19 cumulative deaths</p></td>
<td><p>NYC metro area, plot of latest trend lines of COVID-19 cumulative cases and deaths</p></td>
</tr>
</tbody>
</table>
<p>Here are the arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inc_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – the data for incidence of COVID-19 cases and deaths for a given geographical region. See <a class="reference internal" href="#covid19_stats.engine.core.get_incident_data" title="covid19_stats.engine.core.get_incident_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_incident_data</span></code></a> for the format of the output data.</p></li>
<li><p><strong>maxnum_colorbar</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – the coloring limits for the cumulative COVID-19 cases and deaths plots. Must be <span class="math notranslate nohighlight">\(\ge 1\)</span>.</p></li>
<li><p><strong>dirname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – the directory into which to save the six or seven files. The default is the current working directory.</p></li>
<li><p><strong>store_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, then create the serialized <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pandas</span> <span class="pre">DataFrame</span></code></a> of the COVID-19 cases and deaths, total and per county, from the date of first incident to the latest incident. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.viz.my_colorbar">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.viz.</span></code><code class="sig-name descname"><span class="pre">my_colorbar</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mappable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.viz.my_colorbar" title="Permalink to this definition">¶</a></dt>
<dd><p>secret saucing (explanation is incomprehensible) from <a class="reference external" href="https://joseph-long.com/writing/colorbars">https://joseph-long.com/writing/colorbars</a>. I do not understand how it works the way it does, but it does! I shamelessly copy the method description from the <code class="xref py py-meth docutils literal notranslate"><span class="pre">colorbar</span> <span class="pre">method</span></code>. I have also updated this thing to <a class="reference external" href="https://stackoverflow.com/questions/30030328/correct-placement-of-colorbar-relative-to-geo-axes-cartopy">this website</a> that now works on <a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mappable</strong> – a <a class="reference external" href="https://matplotlib.org/stable/api/cm_api.html#matplotlib.cm.ScalarMappable" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScalarMappable</span></code></a> described by this colorbar.</p></li>
<li><p><strong>ax</strong> – the parent <a class="reference external" href="https://matplotlib.org/stable/api/axes_api.html#matplotlib.axes.Axes" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code></a> from whose space a new colorbar axes will be stolen.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the underlying <a class="reference external" href="https://matplotlib.org/stable/api/colorbar_api.html#matplotlib.colorbar.Colorbar" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Colorbar</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://matplotlib.org/stable/api/colorbar_api.html#matplotlib.colorbar.Colorbar" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Colorbar</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.viz.plot_cases_deaths_region">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.viz.</span></code><code class="sig-name descname"><span class="pre">plot_cases_deaths_region</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inc_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regionName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_from_beginning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doTitle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.viz.plot_cases_deaths_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots trend lines of cumulative COVID-19 cases <em>and</em> deaths for a region. It is easier to show rather than tell. <a class="reference internal" href="#viz-plot-cases-deaths-region-nyc"><span class="std std-numref">Fig. 4.9</span></a> depicts trend lines of cumulative COVID-19 cases and deaths for the NYC metro area, 150 days after this metro’s first COVID-19 incident.</p>
<div class="figure align-left" id="id26">
<span id="viz-plot-cases-deaths-region-nyc"></span><a class="reference internal image-reference" href="../_images/viz_plot_cases_deaths_region_nyc.png"><img alt="../_images/viz_plot_cases_deaths_region_nyc.png" src="../_images/viz_plot_cases_deaths_region_nyc.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 4.9 </span><span class="caption-text">Plot of cumulative COVID-19 cases and deaths for the NYC metro area, 150 days after its first incident. Plot scaling is logarithmic, and dots accentuate the state of the cumulative cases and deaths 150 days after first incident. We have chosen to display the title.</span><a class="headerlink" href="#id26" title="Permalink to this image">¶</a></p>
</div>
<p>Here are the arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inc_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – the data for incidence of COVID-19 cases and deaths for a given geographical region. See <a class="reference internal" href="#covid19_stats.engine.core.get_incident_data" title="covid19_stats.engine.core.get_incident_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_incident_data</span></code></a> for the format of the output data.</p></li>
<li><p><strong>regionName</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – the name of the region to display in title plots. For example, in <a class="reference internal" href="#viz-plot-cases-or-deaths-bycounty-nyc"><span class="std std-numref">Fig. 4.10</span></a>, this is <code class="docutils literal notranslate"><span class="pre">NYC</span> <span class="pre">Metro</span> <span class="pre">Area</span></code>.</p></li>
<li><p><strong>ax</strong> – the <a class="reference external" href="https://matplotlib.org/stable/api/axes_api.html#matplotlib.axes.Axes" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code></a> onto which to make this plot.</p></li>
<li><p><strong>days_from_beginning</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – days after first incident of COVID-19 in this region. Must be <span class="math notranslate nohighlight">\(\ge 0\)</span>.</p></li>
<li><p><strong>doTitle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, then display the title over the plot. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covid19_stats.engine.viz.plot_cases_or_deaths_bycounty">
<code class="sig-prename descclassname"><span class="pre">covid19_stats.engine.viz.</span></code><code class="sig-name descname"><span class="pre">plot_cases_or_deaths_bycounty</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inc_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regionName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_disp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cases'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_from_beginning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxnum_colorbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doTitle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_artists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poly_line_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doSmarter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covid19_stats.engine.viz.plot_cases_or_deaths_bycounty" title="Permalink to this definition">¶</a></dt>
<dd><p>The lower-level function that displays the status of COVID-19 cases or deaths given an incidident data <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, <code class="docutils literal notranslate"><span class="pre">inc_data</span></code>. It displays the status of cumulative COVID-19 cases or deaths, a specific number of days from the beginning, coloring the counties in that region according to the legend maximum, and places the resulting <code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code> at a specific location in a <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Figure</span></code></a> grid of <a class="reference external" href="https://matplotlib.org/stable/api/axes_api.html#matplotlib.axes.Axes" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code></a> or :py:class:<a href="#id11"><span class="problematic" id="id12">`</span></a>GeoAxes &lt;cartopy.mpl.GeoAxes&gt;.</p>
<p>Instead of returning a <a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a>, this initializes a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> of matplotlib objects, <code class="docutils literal notranslate"><span class="pre">plot_artists</span></code>. In this way, subsequent plots, e.g. for different days after the beginnning, do not have to perform the relatively costly operation of recreating the <a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a> and fully painting in the <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.patches.Polygon.html#matplotlib.patches.Polygon" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Polygon</span></code></a> patches; instead, these <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.patches.Polygon.html#matplotlib.patches.Polygon" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Polygon</span></code></a> patches are re-colored and necessary <a class="reference external" href="https://matplotlib.org/stable/api/text_api.html#matplotlib.text.Text" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></a> artists’ strings are changed.</p>
<p id="plot-artists-dict-discussion">This <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, <code class="docutils literal notranslate"><span class="pre">plot_artists</span></code>, has the following keys,</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">axes</span></code>: when initialized, the <a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a> that consists of all counties, with COVID-19 cases or deaths, to display.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sm</span></code>: the <a class="reference external" href="https://matplotlib.org/stable/api/cm_api.html#matplotlib.cm.ScalarMappable" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScalarMappable</span></code></a> describing the coloration by value for each county.</p></li>
</ul>
<p>Furthermore, it is easier to show rather than tell. <a class="reference internal" href="#viz-plot-cases-or-deaths-bycounty-nyc"><span class="std std-numref">Fig. 4.10</span></a> depicts both cumulative COVID-19 cases and deaths for the NYC metro area, 150 days after this metro’s first COVID-19 incident.</p>
<div class="figure align-left" id="id27">
<span id="viz-plot-cases-or-deaths-bycounty-nyc"></span><a class="reference internal image-reference" href="../_images/viz_plot_cases_or_deaths_bycounty_nyc.png"><img alt="../_images/viz_plot_cases_or_deaths_bycounty_nyc.png" src="../_images/viz_plot_cases_or_deaths_bycounty_nyc.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 4.10 </span><span class="caption-text">On the left, is the COVID-19 cumulative cases, and on the right, is the COVID-19 cumulative deaths, for the NYC metro area, 150 days after its first COVID-19 incident. The color limits for cases (left) is <span class="math notranslate nohighlight">\(1.7\times 10^6\)</span>, while the color limits for death (right) is <span class="math notranslate nohighlight">\(5.6\times 10^4\)</span>. We have chosen to display the titles over both plots. Color scaling is logarithmic.</span><a class="headerlink" href="#id27" title="Permalink to this image">¶</a></p>
</div>
<p>Here are the arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inc_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – the data for incidence of COVID-19 cases and deaths for a given geographical region. See <a class="reference internal" href="#covid19_stats.engine.core.get_incident_data" title="covid19_stats.engine.core.get_incident_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_incident_data</span></code></a> for the format of the output data.</p></li>
<li><p><strong>regionName</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – the name of the region to display in title plots. For example, in <a class="reference internal" href="#viz-plot-cases-or-deaths-bycounty-nyc"><span class="std std-numref">Fig. 4.10</span></a>, this is <code class="docutils literal notranslate"><span class="pre">NYC</span> <span class="pre">Metro</span> <span class="pre">Area</span></code>.</p></li>
<li><p><strong>fig</strong> – the <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Figure</span></code></a> onto which to create a <a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a> (stored into the <code class="docutils literal notranslate"><span class="pre">plot_artists</span></code> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>) containing geographic features. Last three arguments – <code class="docutils literal notranslate"><span class="pre">rows</span></code>, <code class="docutils literal notranslate"><span class="pre">cols</span></code>, and <code class="docutils literal notranslate"><span class="pre">num</span></code> – describe the relative placement of the created <a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a>. See <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.add_subplot" title="(in Matplotlib v3.3.4)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_subplot</span></code></a> for those three arguments’ meanings.</p></li>
<li><p><strong>type_disp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – if <code class="docutils literal notranslate"><span class="pre">cases</span></code>, then show cumulative COVID-19 cases. If <code class="docutils literal notranslate"><span class="pre">deaths</span></code>, then show cumulative COVID-19 deaths. Can only be <code class="docutils literal notranslate"><span class="pre">cases</span></code> or <code class="docutils literal notranslate"><span class="pre">deaths</span></code>.</p></li>
<li><p><strong>days_from_beginning</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – days after first incident of COVID-19 in this region. Must be <span class="math notranslate nohighlight">\(\ge 0\)</span>.</p></li>
<li><p><strong>maxnum_colorbar</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – the coloring limits for the plot. Must be <span class="math notranslate nohighlight">\(\ge 1\)</span>.</p></li>
<li><p><strong>doTitle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, then display the title over the plot. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>plot_artists</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – this contains the essential plotting objects for quicker re-display when plotting different days. Look at <a class="reference internal" href="#plot-artists-dict-discussion"><span class="std std-ref">this description</span></a>.</p></li>
<li><p><strong>poly_line_width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – the line width of the counties to draw in the plot.</p></li>
<li><p><strong>doSmarter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – if <code class="docutils literal notranslate"><span class="pre">False</span></code>, then make a plot tailored for small regions (relative to the size of the earth), such as states or <a class="reference external" href="https://en.wikipedia.org/wiki/Metropolitan_statistical_area">MSA</a>s. If <code class="docutils literal notranslate"><span class="pre">True</span></code>, then make a plot tailored for large regions such as the <a class="reference external" href="https://en.wikipedia.org/wiki/Contiguous_United_States">CONUS</a>. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the number of rows for axes in the <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Figure</span></code></a> grid. Must be <span class="math notranslate nohighlight">\(\ge 1\)</span>, and by default is 1.</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the number of columns for axes in the <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Figure</span></code></a> grid. Must be <span class="math notranslate nohighlight">\(\ge 1\)</span>, and by default is 1.</p></li>
<li><p><strong>num</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the plot number of the <a class="reference external" href="https://scitools.org.uk/cartopy/docs/latest/matplotlib/geoaxes.html#cartopy.mpl.geoaxes.GeoAxes" title="(in cartopy v0.18.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a> in this <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="(in Matplotlib v3.3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Figure</span></code></a> grid. Must be <span class="math notranslate nohighlight">\(\ge 1\)</span> and <span class="math notranslate nohighlight">\(\le\)</span><code class="docutils literal notranslate"><span class="pre">rows</span></code> times <code class="docutils literal notranslate"><span class="pre">columns</span></code>. Its default is 1. Look at <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.add_subplot" title="(in Matplotlib v3.3.4)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_subplot</span></code></a> for its  meaning.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../cli/covid19_update_readme.html" class="btn btn-neutral float-left" title="3.6. covid19_update_readme" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Tanim Islam.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>