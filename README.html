<html>
 <body>
  <h1>
   <a aria-hidden="true" class="anchor" href="#readme" id="user-content-readme">
    <span aria-hidden="true" class="octicon octicon-link">
    </span>
   </a>
   README
  </h1>
  <p>
   Hello world! This is my COVID-19 tracker. There is a git submodule, the
   <a href="https://github.com/nytimes/covid-19-data">
    NY Times COVID-19 repository
   </a>
   , that needs to be updated frequently to get the latest data. The easiest way to update is to run this command in the checked out repo,
  </p>
  <div class="highlight highlight-source-shell">
   <pre>git -C covid-19-data pull origin master</pre>
  </div>
  <p>
   This is not nearly as sophisticated as what's in
   <a href="https://ncov2019.live" rel="nofollow">
    ncov2019.live
   </a>
   , and described in
   <a href="https://www.newyorker.com/magazine/2020/03/30/the-high-schooler-who-became-a-covid-19-watchdog" rel="nofollow">
    this New Yorker article
   </a>
   .
  </p>
  <p>
   I have made major changes in the functionality and implementation from the original commits, since commit
   <a href="https://github.com/tanimislam/covid19_stats/commit/78917dd20c43bd65320cf51958fa481febef4338">
    #78917
   </a>
   for instance.
  </p>
  <ul>
   <li>
    <p>
     The API code has been refactored into the
     <code>
      engine
     </code>
     subdirectory, and is divided into three main submodules:
     <code>
      engine.core
     </code>
     provides the higher level API calls for processing the COVID-19 data;
     <code>
      engine.gis
     </code>
     provides the lower-level APIs to write out, read in, and process the raw GIS data provided mainly by the US Census Bureau; and
     <code>
      engine.viz
     </code>
     does the visualization part.
    </p>
   </li>
   <li>
    <p>
     There is a single command line interface (CLI),
     <code>
      covid19_create_movie_or_summary.py
     </code>
     , that can do the following: summarizes US metropolitan statistical areas (MSA) and gives their latest COVID-19 statistics; makes movie animations of the COVID-19 cases and deaths, from first case to latest incident date, for a given MSA; and prints out summary plots, and incident data, of COVID-19 cases and deaths for the latest incident day.
    </p>
   </li>
   <li>
    <p>
     The
     <code>
      testing
     </code>
     subdirectory contains
     <a href="https://jupyter.org" rel="nofollow">
      Jupyter Notebooks
     </a>
     that illuminate bits and pieces of this COVID-19 tracker's functionality.
    </p>
   </li>
   <li>
    <p>
     Some video output of the CLI is located in the
     <code>
      movies
     </code>
     subdirectory.
    </p>
   </li>
  </ul>
  <p>
   Here is some output from using this COVID-19 tracker.
  </p>
  <ul>
   <li>
    <p>
     The summary of COVID-19 statistics for the top 20 MSAs by estimated 2019 population.
    </p>
    <table>
     <thead>
      <tr>
       <th align="left">
        RANK
       </th>
       <th align="left">
        IDENTIFIER
       </th>
       <th align="left">
        NAME
       </th>
       <th align="left">
        POPULATION
       </th>
       <th align="left">
        FIRST INC.
       </th>
       <th align="left">
        NUM DAYS
       </th>
       <th align="left">
        NUM CASES
       </th>
       <th align="left">
        NUM DEATHS
       </th>
       <th align="left">
        MAX CASE COUNTY
       </th>
       <th align="left">
        MAX CASE COUNTY NAME
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="left">
        1
       </td>
       <td align="left">
        nyc
       </td>
       <td align="left">
        NYC Metro Area
       </td>
       <td align="left">
        19,216,182
       </td>
       <td align="left">
        01 March 2020
       </td>
       <td align="left">
        54
       </td>
       <td align="left">
        342,209
       </td>
       <td align="left">
        20,541
       </td>
       <td align="left">
        150,484
       </td>
       <td align="left">
        New York City, New York
       </td>
      </tr>
      <tr>
       <td align="left">
        2
       </td>
       <td align="left">
        losangeles
       </td>
       <td align="left">
        LA Metro Area
       </td>
       <td align="left">
        18,711,436
       </td>
       <td align="left">
        25 January 2020
       </td>
       <td align="left">
        90
       </td>
       <td align="left">
        25,847
       </td>
       <td align="left">
        1,094
       </td>
       <td align="left">
        18,545
       </td>
       <td align="left">
        Los Angeles County, California
       </td>
      </tr>
      <tr>
       <td align="left">
        3
       </td>
       <td align="left">
        chicago
       </td>
       <td align="left">
        Chicago Metro Area
       </td>
       <td align="left">
        9,458,539
       </td>
       <td align="left">
        24 January 2020
       </td>
       <td align="left">
        91
       </td>
       <td align="left">
        38,306
       </td>
       <td align="left">
        1,728
       </td>
       <td align="left">
        27,616
       </td>
       <td align="left">
        Cook County, Illinois
       </td>
      </tr>
      <tr>
       <td align="left">
        4
       </td>
       <td align="left">
        dallas
       </td>
       <td align="left">
        Dallas Metro Area
       </td>
       <td align="left">
        7,573,136
       </td>
       <td align="left">
        09 March 2020
       </td>
       <td align="left">
        46
       </td>
       <td align="left">
        6,207
       </td>
       <td align="left">
        169
       </td>
       <td align="left">
        2,834
       </td>
       <td align="left">
        Dallas County, Texas
       </td>
      </tr>
      <tr>
       <td align="left">
        5
       </td>
       <td align="left">
        houston
       </td>
       <td align="left">
        Houston Metro Area
       </td>
       <td align="left">
        7,066,141
       </td>
       <td align="left">
        04 March 2020
       </td>
       <td align="left">
        51
       </td>
       <td align="left">
        7,937
       </td>
       <td align="left">
        138
       </td>
       <td align="left">
        5,482
       </td>
       <td align="left">
        Harris County, Texas
       </td>
      </tr>
      <tr>
       <td align="left">
        6
       </td>
       <td align="left">
        bayarea
       </td>
       <td align="left">
        Bay Area
       </td>
       <td align="left">
        6,860,207
       </td>
       <td align="left">
        31 January 2020
       </td>
       <td align="left">
        84
       </td>
       <td align="left">
        6,875
       </td>
       <td align="left">
        249
       </td>
       <td align="left">
        2,018
       </td>
       <td align="left">
        Santa Clara County, California
       </td>
      </tr>
      <tr>
       <td align="left">
        7
       </td>
       <td align="left">
        dc
       </td>
       <td align="left">
        DC Metro Area
       </td>
       <td align="left">
        6,280,487
       </td>
       <td align="left">
        05 March 2020
       </td>
       <td align="left">
        50
       </td>
       <td align="left">
        18,782
       </td>
       <td align="left">
        675
       </td>
       <td align="left">
        4,403
       </td>
       <td align="left">
        Prince George's County, Maryland
       </td>
      </tr>
      <tr>
       <td align="left">
        8
       </td>
       <td align="left">
        miami
       </td>
       <td align="left">
        Miami Metro Area
       </td>
       <td align="left">
        6,166,488
       </td>
       <td align="left">
        06 March 2020
       </td>
       <td align="left">
        49
       </td>
       <td align="left">
        18,114
       </td>
       <td align="left">
        604
       </td>
       <td align="left">
        10,925
       </td>
       <td align="left">
        Miami-Dade County, Florida
       </td>
      </tr>
      <tr>
       <td align="left">
        9
       </td>
       <td align="left">
        philadelphia
       </td>
       <td align="left">
        Philadelphia Metro Area
       </td>
       <td align="left">
        6,102,434
       </td>
       <td align="left">
        06 March 2020
       </td>
       <td align="left">
        49
       </td>
       <td align="left">
        29,605
       </td>
       <td align="left">
        1,273
       </td>
       <td align="left">
        11,877
       </td>
       <td align="left">
        Philadelphia County, Pennsylvania
       </td>
      </tr>
      <tr>
       <td align="left">
        10
       </td>
       <td align="left">
        atlanta
       </td>
       <td align="left">
        Atlanta Metro Area
       </td>
       <td align="left">
        6,020,364
       </td>
       <td align="left">
        02 March 2020
       </td>
       <td align="left">
        53
       </td>
       <td align="left">
        11,054
       </td>
       <td align="left">
        395
       </td>
       <td align="left">
        2,500
       </td>
       <td align="left">
        Fulton County, Georgia
       </td>
      </tr>
      <tr>
       <td align="left">
        11
       </td>
       <td align="left">
        phoenix
       </td>
       <td align="left">
        Phoenix Metro Area
       </td>
       <td align="left">
        4,948,203
       </td>
       <td align="left">
        26 January 2020
       </td>
       <td align="left">
        89
       </td>
       <td align="left">
        3,433
       </td>
       <td align="left">
        129
       </td>
       <td align="left">
        3,116
       </td>
       <td align="left">
        Maricopa County, Arizona
       </td>
      </tr>
      <tr>
       <td align="left">
        12
       </td>
       <td align="left">
        boston
       </td>
       <td align="left">
        Boston Metro Area
       </td>
       <td align="left">
        4,873,019
       </td>
       <td align="left">
        01 February 2020
       </td>
       <td align="left">
        83
       </td>
       <td align="left">
        39,079
       </td>
       <td align="left">
        1,859
       </td>
       <td align="left">
        11,681
       </td>
       <td align="left">
        Middlesex County, Massachusetts
       </td>
      </tr>
      <tr>
       <td align="left">
        13
       </td>
       <td align="left">
        detroit
       </td>
       <td align="left">
        Detroit Metro Area
       </td>
       <td align="left">
        4,319,629
       </td>
       <td align="left">
        10 March 2020
       </td>
       <td align="left">
        45
       </td>
       <td align="left">
        28,002
       </td>
       <td align="left">
        2,582
       </td>
       <td align="left">
        15,407
       </td>
       <td align="left">
        Wayne County, Michigan
       </td>
      </tr>
      <tr>
       <td align="left">
        14
       </td>
       <td align="left">
        seattle
       </td>
       <td align="left">
        Seattle Metro Area
       </td>
       <td align="left">
        3,979,845
       </td>
       <td align="left">
        21 January 2020
       </td>
       <td align="left">
        94
       </td>
       <td align="left">
        9,251
       </td>
       <td align="left">
        542
       </td>
       <td align="left">
        5,691
       </td>
       <td align="left">
        King County, Washington
       </td>
      </tr>
      <tr>
       <td align="left">
        15
       </td>
       <td align="left">
        minneapolis
       </td>
       <td align="left">
        Minneapolis Metro Area
       </td>
       <td align="left">
        3,640,043
       </td>
       <td align="left">
        06 March 2020
       </td>
       <td align="left">
        49
       </td>
       <td align="left">
        1,981
       </td>
       <td align="left">
        176
       </td>
       <td align="left">
        1,200
       </td>
       <td align="left">
        Hennepin County, Minnesota
       </td>
      </tr>
      <tr>
       <td align="left">
        16
       </td>
       <td align="left">
        sandiego
       </td>
       <td align="left">
        San Diego Metro Area
       </td>
       <td align="left">
        3,338,330
       </td>
       <td align="left">
        10 February 2020
       </td>
       <td align="left">
        74
       </td>
       <td align="left">
        2,826
       </td>
       <td align="left">
        112
       </td>
       <td align="left">
        2,826
       </td>
       <td align="left">
        San Diego County, California
       </td>
      </tr>
      <tr>
       <td align="left">
        17
       </td>
       <td align="left">
        tampa
       </td>
       <td align="left">
        Tampa Metro Area
       </td>
       <td align="left">
        3,194,831
       </td>
       <td align="left">
        01 March 2020
       </td>
       <td align="left">
        54
       </td>
       <td align="left">
        2,011
       </td>
       <td align="left">
        52
       </td>
       <td align="left">
        1,022
       </td>
       <td align="left">
        Hillsborough County, Florida
       </td>
      </tr>
      <tr>
       <td align="left">
        18
       </td>
       <td align="left">
        denver
       </td>
       <td align="left">
        Denver Metro Area
       </td>
       <td align="left">
        2,967,239
       </td>
       <td align="left">
        05 March 2020
       </td>
       <td align="left">
        50
       </td>
       <td align="left">
        7,412
       </td>
       <td align="left">
        399
       </td>
       <td align="left">
        2,385
       </td>
       <td align="left">
        Denver County, Colorado
       </td>
      </tr>
      <tr>
       <td align="left">
        19
       </td>
       <td align="left">
        stlouis
       </td>
       <td align="left">
        St. Louis Metro Area
       </td>
       <td align="left">
        2,803,228
       </td>
       <td align="left">
        07 March 2020
       </td>
       <td align="left">
        48
       </td>
       <td align="left">
        5,285
       </td>
       <td align="left">
        248
       </td>
       <td align="left">
        2,625
       </td>
       <td align="left">
        St. Louis County, Missouri
       </td>
      </tr>
      <tr>
       <td align="left">
        20
       </td>
       <td align="left">
        baltimore
       </td>
       <td align="left">
        Baltimore Metro Area
       </td>
       <td align="left">
        2,800,053
       </td>
       <td align="left">
        08 March 2020
       </td>
       <td align="left">
        47
       </td>
       <td align="left">
        6,681
       </td>
       <td align="left">
        250
       </td>
       <td align="left">
        2,234
       </td>
       <td align="left">
        Baltimore County, Maryland
       </td>
      </tr>
      <tr>
       <td align="left">
        21
       </td>
       <td align="left">
        charlotte
       </td>
       <td align="left">
        Charlotte Metro Area
       </td>
       <td align="left">
        2,636,883
       </td>
       <td align="left">
        11 March 2020
       </td>
       <td align="left">
        44
       </td>
       <td align="left">
        2,700
       </td>
       <td align="left">
        76
       </td>
       <td align="left">
        1,407
       </td>
       <td align="left">
        Mecklenburg County, North Carolina
       </td>
      </tr>
      <tr>
       <td align="left">
        22
       </td>
       <td align="left">
        orlando
       </td>
       <td align="left">
        Orlando Metro Area
       </td>
       <td align="left">
        2,608,147
       </td>
       <td align="left">
        12 March 2020
       </td>
       <td align="left">
        43
       </td>
       <td align="left">
        2,317
       </td>
       <td align="left">
        54
       </td>
       <td align="left">
        1,289
       </td>
       <td align="left">
        Orange County, Florida
       </td>
      </tr>
      <tr>
       <td align="left">
        23
       </td>
       <td align="left">
        sanantonio
       </td>
       <td align="left">
        San Antonio Metro Area
       </td>
       <td align="left">
        2,550,960
       </td>
       <td align="left">
        12 February 2020
       </td>
       <td align="left">
        72
       </td>
       <td align="left">
        1,393
       </td>
       <td align="left">
        54
       </td>
       <td align="left">
        1,206
       </td>
       <td align="left">
        Bexar County, Texas
       </td>
      </tr>
      <tr>
       <td align="left">
        24
       </td>
       <td align="left">
        portland
       </td>
       <td align="left">
        Portland Metro Area
       </td>
       <td align="left">
        2,492,412
       </td>
       <td align="left">
        28 February 2020
       </td>
       <td align="left">
        56
       </td>
       <td align="left">
        1,616
       </td>
       <td align="left">
        74
       </td>
       <td align="left">
        596
       </td>
       <td align="left">
        Multnomah County, Oregon
       </td>
      </tr>
      <tr>
       <td align="left">
        25
       </td>
       <td align="left">
        sacramento
       </td>
       <td align="left">
        Sacramento Metro Area
       </td>
       <td align="left">
        2,363,730
       </td>
       <td align="left">
        21 February 2020
       </td>
       <td align="left">
        63
       </td>
       <td align="left">
        1,357
       </td>
       <td align="left">
        62
       </td>
       <td align="left">
        1,019
       </td>
       <td align="left">
        Sacramento County, California
       </td>
      </tr>
      <tr>
       <td align="left">
        26
       </td>
       <td align="left">
        pittsburgh
       </td>
       <td align="left">
        Pittsburgh Metro Area
       </td>
       <td align="left">
        2,317,600
       </td>
       <td align="left">
        13 March 2020
       </td>
       <td align="left">
        42
       </td>
       <td align="left">
        2,213
       </td>
       <td align="left">
        160
       </td>
       <td align="left">
        1,177
       </td>
       <td align="left">
        Allegheny County, Pennsylvania
       </td>
      </tr>
      <tr>
       <td align="left">
        27
       </td>
       <td align="left">
        lasvegas
       </td>
       <td align="left">
        Las Vegas Metro Area
       </td>
       <td align="left">
        2,266,715
       </td>
       <td align="left">
        05 March 2020
       </td>
       <td align="left">
        50
       </td>
       <td align="left">
        3,443
       </td>
       <td align="left">
        168
       </td>
       <td align="left">
        3,443
       </td>
       <td align="left">
        Clark County, Nevada
       </td>
      </tr>
      <tr>
       <td align="left">
        28
       </td>
       <td align="left">
        austin
       </td>
       <td align="left">
        Austin Metro Area
       </td>
       <td align="left">
        2,227,083
       </td>
       <td align="left">
        13 March 2020
       </td>
       <td align="left">
        42
       </td>
       <td align="left">
        1,800
       </td>
       <td align="left">
        40
       </td>
       <td align="left">
        1,379
       </td>
       <td align="left">
        Travis County, Texas
       </td>
      </tr>
      <tr>
       <td align="left">
        29
       </td>
       <td align="left">
        cincinnati
       </td>
       <td align="left">
        Cincinnati Metro Area
       </td>
       <td align="left">
        2,221,208
       </td>
       <td align="left">
        14 March 2020
       </td>
       <td align="left">
        41
       </td>
       <td align="left">
        1,956
       </td>
       <td align="left">
        108
       </td>
       <td align="left">
        932
       </td>
       <td align="left">
        Hamilton County, Ohio
       </td>
      </tr>
      <tr>
       <td align="left">
        30
       </td>
       <td align="left">
        kansascity
       </td>
       <td align="left">
        Kansas City Metro Area
       </td>
       <td align="left">
        2,157,990
       </td>
       <td align="left">
        07 March 2020
       </td>
       <td align="left">
        48
       </td>
       <td align="left">
        1,617
       </td>
       <td align="left">
        110
       </td>
       <td align="left">
        527
       </td>
       <td align="left">
        Wyandotte County, Kansas
       </td>
      </tr>
     </tbody>
    </table>
   </li>
   <li>
    <p>
     The COVID-19 trends in cases and deaths for these 6 metropolitan areas through 20 APRIL 2020: SF Bay Area; Washington, DC; Richmond, VA; NYC; Los Angeles; and New Orleans.
    </p>
    <table>
     <thead>
      <tr>
       <th align="center">
       </th>
       <th align="center">
       </th>
       <th align="center">
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="center">
        <a href="figures/covid19_bayarea_cds_20042020.png" rel="noopener noreferrer" target="_blank">
         <img src="figures/covid19_bayarea_cds_20042020.png" style="max-width:100%;" width="100%"/>
        </a>
       </td>
       <td align="center">
        <a href="figures/covid19_dc_cds_20042020.png" rel="noopener noreferrer" target="_blank">
         <img src="figures/covid19_dc_cds_20042020.png" style="max-width:100%;" width="100%"/>
        </a>
       </td>
       <td align="center">
        <a href="figures/covid19_richmond_cds_20042020.png" rel="noopener noreferrer" target="_blank">
         <img src="figures/covid19_richmond_cds_20042020.png" style="max-width:100%;" width="100%"/>
        </a>
       </td>
      </tr>
      <tr>
       <td align="center">
        SF Bay Area
       </td>
       <td align="center">
        Washington, DC
       </td>
       <td align="center">
        Richmond, VA
       </td>
      </tr>
      <tr>
       <td align="center">
        <a href="figures/covid19_nyc_cds_20042020.png" rel="noopener noreferrer" target="_blank">
         <img src="figures/covid19_nyc_cds_20042020.png" style="max-width:100%;" width="100%"/>
        </a>
       </td>
       <td align="center">
        <a href="figures/covid19_losangeles_cds_20042020.png" rel="noopener noreferrer" target="_blank">
         <img src="figures/covid19_losangeles_cds_20042020.png" style="max-width:100%;" width="100%"/>
        </a>
       </td>
       <td align="center">
        <a href="figures/covid19_neworleans_cds_20042020.png" rel="noopener noreferrer" target="_blank">
         <img src="figures/covid19_neworleans_cds_20042020.png" style="max-width:100%;" width="100%"/>
        </a>
       </td>
      </tr>
      <tr>
       <td align="center">
        NYC Metro
       </td>
       <td align="center">
        Los Angeles
       </td>
       <td align="center">
        New Orleans
       </td>
      </tr>
     </tbody>
    </table>
   </li>
   <li>
    <p>
     <a id="user-content-gif-animations">
     </a>
     GIF'd video animations of the COVID-19 trends in cases/deaths for NYC, Chicago, and Seattle up to 24 APRIL 2020.
    </p>
    <table>
     <thead>
      <tr>
       <th align="center">
       </th>
       <th align="center">
       </th>
       <th align="center">
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="center">
        <a href="figures/covid19_nyc_latest.gif" rel="noopener noreferrer" target="_blank">
         <img src="figures/covid19_nyc_latest.gif" style="max-width:100%;" width="100%"/>
        </a>
       </td>
       <td align="center">
        <a href="figures/covid19_chicago_latest.gif" rel="noopener noreferrer" target="_blank">
         <img src="figures/covid19_chicago_latest.gif" style="max-width:100%;" width="100%"/>
        </a>
       </td>
       <td align="center">
        <a href="figures/covid19_seattle_latest.gif" rel="noopener noreferrer" target="_blank">
         <img src="figures/covid19_seattle_latest.gif" style="max-width:100%;" width="100%"/>
        </a>
       </td>
      </tr>
      <tr>
       <td align="center">
        NYC Metro
       </td>
       <td align="center">
        Chicago
       </td>
       <td align="center">
        Seattle
       </td>
      </tr>
     </tbody>
    </table>
   </li>
  </ul>
  <p>
   The remainder of this README has two sections:
   <a href="#getting-started">
    <em>
     GETTING STARTED
    </em>
   </a>
   and
   <a href="#using-cli">
    <em>
     USING THE CLI
    </em>
   </a>
   .
  </p>
  <p>
   #getting-started
  </p>
  <h2>
   <a aria-hidden="true" class="anchor" href="#getting-started" id="user-content-getting-started">
    <span aria-hidden="true" class="octicon octicon-link">
    </span>
   </a>
   GETTING STARTED
  </h2>
  <p>
   First clone this repo using the command
  </p>
  <div class="highlight highlight-source-shell">
   <pre>git clone https://github.com/tanimislam/covid19_stats.git</pre>
  </div>
  <p>
   You will get the main directory structure, but you will notice that the
   <code>
    covid-19-data
   </code>
   submodule is empty. To populate it, run
  </p>
  <div class="highlight highlight-source-shell">
   <pre>git submodule update --init --recursive</pre>
  </div>
  <p>
   The requirements are in the
   <code>
    requirements.txt
   </code>
   . You should be able to install these Python packages into your
   <em>
    user
   </em>
   Python library (typically at
   <code>
    ~/.local/lib/python3.X/site-packages
   </code>
   ) by running,
  </p>
  <div class="highlight highlight-source-shell">
   <pre>pip install -r requirements.txt</pre>
  </div>
  <p>
   However,
   <a href="https://matplotlib.org/basemap/" rel="nofollow">
    Basemap
   </a>
   can be a bugbear to install. Here is what worked for me when installing on the Linux machine.
  </p>
  <ol>
   <li>
    <p>
     First, although
     <a href="https://matplotlib.org/basemap/" rel="nofollow">
      Basemap
     </a>
     will install, your Python shell (and hence your CLI) won't be able to find it. This is almost certainly a bug in Basemap. Running
     <code>
      from mpl_toolkits.basemap import Basemap
     </code>
     won't work. First, look for where
     <code>
      basemap
     </code>
     is installed. In my case, it was located at
     <code>
      ~/.local/lib/python3.7/site-packages/basemap-1.2.1-py3.7-linux-x86_64.egg/
     </code>
     . The directory structure right below it looks like this,
    </p>
    <div class="highlight highlight-source-shell">
     <pre>EGG-INFO  _geoslib.cpython-37m-x86_64-linux-gnu.so  _geoslib.py  mpl_toolkits  __pycache__</pre>
    </div>
   </li>
   <li>
    <p>
     <code>
      cd
     </code>
     into
     <code>
      mpl_toolkits
     </code>
     . You should see a
     <code>
      basemap
     </code>
     subdirectory when you look in it.
    </p>
    <div class="highlight highlight-source-shell">
     <pre>basemap  __init__.py  __pycache__</pre>
    </div>
   </li>
   <li>
    <p>
     You should also have an
     <code>
      mpl_toolkits
     </code>
     library module installed locally. In my case it was
     <code>
      ~/.local/lib/python3.7/site-packages/mpl_toolkits/
     </code>
     . Inside it looks like,
    </p>
    <div class="highlight highlight-source-shell">
     <pre>axes_grid  axes_grid1  axisartist  mplot3d  tests</pre>
    </div>
   </li>
   <li>
    <p>
     In the real
     <code>
      mpl_toolkits
     </code>
     directory, make a symbolic link to the
     <code>
      basemap
     </code>
     directory underneath, e.g.,
     <code>
      ~/.local/lib/python3.7/site-packages/basemap-1.2.1-py3.7-linux-x86_64.egg/
     </code>
     . Thus in the correct
     <code>
      mpl_toolkits
     </code>
     subdirectory, run, e.g.,
    </p>
    <div class="highlight highlight-source-shell">
     <pre>ln -sf <span class="pl-k">~</span>/.local/lib/python3.7/site-packages/basemap-1.2.1-py3.7-linux-x86_64.egg/mpl_toolkits/basemap basemap</pre>
    </div>
    <p>
     If you have ve done everything correctly, its data structure will look like what is shown below, with a valid symbolic link to
     <code>
      basemap
     </code>
     .
    </p>
    <div class="highlight highlight-source-shell">
     <pre>axes_grid
axes_grid1
axisartist
basemap -<span class="pl-k">&gt;</span> <span class="pl-k">~</span>/.local/lib/python3.7/site-packages/basemap-1.2.1-py3.7-linux-x86_64.egg/
mplot3d
tests</pre>
    </div>
   </li>
  </ol>
  <p>
   If you're lucky, running
   <code>
    from mpl_toolkits.basemap import Basemap
   </code>
   will work without further issues.
  </p>
  <p>
   Furthermore, just run this from the main directory,
  </p>
  <div class="highlight highlight-source-shell">
   <pre>git -C covid-19-data pull origin master</pre>
  </div>
  <p>
   in order to get the latest COVID-19 data.
  </p>
  <h2>
   <a aria-hidden="true" class="anchor" href="#-a-idusing-cli-using-the-cli" id="user-content--a-idusing-cli-using-the-cli">
    <span aria-hidden="true" class="octicon octicon-link">
    </span>
   </a>
   &lt; a id="using-cli"&gt; USING THE CLI
  </h2>
  <p>
   <code>
    covid19_create_movie_or_summary.py
   </code>
   is the only top-level CLI currently in the repository. It has three modes of operation. Its help output, while running
   <code>
    covid19_create_movie_or_summary.py -h
   </code>
   , produces the following,
  </p>
  <div class="highlight highlight-source-shell">
   <pre>usage: covid19_create_movie_or_summary.py [-h] {M,m,s} ...

positional arguments:
  {M,m,s}     Choose either showing list of metros, or make a movie of a metro
              region
    M         If chosen, <span class="pl-k">then</span> list all the metropolitan areas through which we
              can look.
    m         Make a movie of the COVID-19 cases and deaths trend <span class="pl-k">for</span> the
              specific Metropolitan Statistical Area (MSA).
    s         Make a summary plot, and incident data file, of COVID-19 cases
              and deaths trend, <span class="pl-k">for</span> the specific Metropolitan Statistical Area
              (MSA).

optional arguments:
  -h, --help  show this <span class="pl-c1">help</span> message and <span class="pl-c1">exit</span></pre>
  </div>
  <ul>
   <li>
    <p>
     <a id="user-content-metro-mode">
     </a>
     <code>
      covid19_create_movie_or_summary.py M
     </code>
     (METRO flag) lists the COVID-19 stats for all, or user-selected, metropolitan statistical areas (MSAs) by population. For example, here are the statistics for the top 30 MSAs.
    </p>
    <div class="highlight highlight-source-shell">
     <pre> covid19_create_movie_or_summary.py M
 
 HERE ARE THE 380 METRO AREAS, ORDERED BY POPULATION
 DATA AS OF 24 April 2020.
   RANK  IDENTIFIER        NAME                                    POPULATION    FIRST INC.          NUM DAYS  NUM CASES    NUM DEATHS    MAX CASE COUNTY    MAX CASE COUNTY NAME
 ------  ----------------  --------------------------------------  ------------  ----------------  ----------  -----------  ------------  -----------------  ------------------------------------
 	 1  nyc               NYC Metro Area                          19,216,182    01 March 2020             54  342,209      20,541        150,484            New York City, New York
 	 2  losangeles        LA Metro Area                           18,711,436    25 January 2020           90  25,847       1,094         18,545             Los Angeles County, California
 	 3  chicago           Chicago Metro Area                      9,458,539     24 January 2020           91  38,306       1,728         27,616             Cook County, Illinois
 	 4  dallas            Dallas Metro Area                       7,573,136     09 March 2020             46  6,207        169           2,834              Dallas County, Texas
 	 5  houston           Houston Metro Area                      7,066,141     04 March 2020             51  7,937        138           5,482              Harris County, Texas
 	 6  bayarea           Bay Area                                6,860,207     31 January 2020           84  6,875        249           2,018              Santa Clara County, California
 	 7  dc                DC Metro Area                           6,280,487     05 March 2020             50  18,782       675           4,403              Prince George<span class="pl-s"><span class="pl-pds">'</span>s County, Maryland</span>
<span class="pl-s"> 	 8  miami             Miami Metro Area                        6,166,488     06 March 2020             49  18,114       604           10,925             Miami-Dade County, Florida</span>
<span class="pl-s"> 	 9  philadelphia      Philadelphia Metro Area                 6,102,434     06 March 2020             49  29,605       1,273         11,877             Philadelphia County, Pennsylvania</span>
<span class="pl-s"> 	10  atlanta           Atlanta Metro Area                      6,020,364     02 March 2020             53  11,054       395           2,500              Fulton County, Georgia</span>
<span class="pl-s"> 	11  phoenix           Phoenix Metro Area                      4,948,203     26 January 2020           89  3,433        129           3,116              Maricopa County, Arizona</span>
<span class="pl-s"> 	12  boston            Boston Metro Area                       4,873,019     01 February 2020          83  39,079       1,859         11,681             Middlesex County, Massachusetts</span>
<span class="pl-s"> 	13  detroit           Detroit Metro Area                      4,319,629     10 March 2020             45  28,002       2,582         15,407             Wayne County, Michigan</span>
<span class="pl-s"> 	14  seattle           Seattle Metro Area                      3,979,845     21 January 2020           94  9,251        542           5,691              King County, Washington</span>
<span class="pl-s"> 	15  minneapolis       Minneapolis Metro Area                  3,640,043     06 March 2020             49  1,981        176           1,200              Hennepin County, Minnesota</span>
<span class="pl-s"> 	16  sandiego          San Diego Metro Area                    3,338,330     10 February 2020          74  2,826        112           2,826              San Diego County, California</span>
<span class="pl-s"> 	17  tampa             Tampa Metro Area                        3,194,831     01 March 2020             54  2,011        52            1,022              Hillsborough County, Florida</span>
<span class="pl-s"> 	18  denver            Denver Metro Area                       2,967,239     05 March 2020             50  7,412        399           2,385              Denver County, Colorado</span>
<span class="pl-s"> 	19  stlouis           St. Louis Metro Area                    2,803,228     07 March 2020             48  5,285        248           2,625              St. Louis County, Missouri</span>
<span class="pl-s"> 	20  baltimore         Baltimore Metro Area                    2,800,053     08 March 2020             47  6,681        250           2,234              Baltimore County, Maryland</span>
<span class="pl-s"> 	21  charlotte         Charlotte Metro Area                    2,636,883     11 March 2020             44  2,700        76            1,407              Mecklenburg County, North Carolina</span>
<span class="pl-s"> 	22  orlando           Orlando Metro Area                      2,608,147     12 March 2020             43  2,317        54            1,289              Orange County, Florida</span>
<span class="pl-s"> 	23  sanantonio        San Antonio Metro Area                  2,550,960     12 February 2020          72  1,393        54            1,206              Bexar County, Texas</span>
<span class="pl-s"> 	24  portland          Portland Metro Area                     2,492,412     28 February 2020          56  1,616        74            596                Multnomah County, Oregon</span>
<span class="pl-s"> 	25  sacramento        Sacramento Metro Area                   2,363,730     21 February 2020          63  1,357        62            1,019              Sacramento County, California</span>
<span class="pl-s"> 	26  pittsburgh        Pittsburgh Metro Area                   2,317,600     13 March 2020             42  2,213        160           1,177              Allegheny County, Pennsylvania</span>
<span class="pl-s"> 	27  lasvegas          Las Vegas Metro Area                    2,266,715     05 March 2020             50  3,443        168           3,443              Clark County, Nevada</span>
<span class="pl-s"> 	28  austin            Austin Metro Area                       2,227,083     13 March 2020             42  1,800        40            1,379              Travis County, Texas</span>
<span class="pl-s"> 	29  cincinnati        Cincinnati Metro Area                   2,221,208     14 March 2020             41  1,956        108           932                Hamilton County, Ohio</span>
<span class="pl-s"> 	30  kansascity        Kansas City Metro Area                  2,157,990     07 March 2020             48  1,617        110           527                Wyandotte County, Kansas</span></pre>
    </div>
    <p>
     One can also select MSAs with the
     <code>
      --metros
     </code>
     flag. The
     <code>
      -f
     </code>
     or
     <code>
      --format
     </code>
     flag prints out a table of MSAs formatted in one of three ways:
     <code>
      simple
     </code>
     , the default, is the tabular format shown above;
     <code>
      github
     </code>
     is
     <a href="https://github.github.com/gfm/">
      Github flavored Markdown
     </a>
     ; and
     <code>
      rst
     </code>
     is
     <a href="https://docutils.sourceforge.io/rst.html" rel="nofollow">
      reStructuredText
     </a>
     . This is described in the help output, produced by
     <code>
      covid19_create_movie_or_summary.py M -h
     </code>
     ,
    </p>
    <div class="highlight highlight-source-shell">
     <pre> usage: covid19_create_movie_or_summary.py M [-h] [-f {simple,github,rst}]
                                         [--metros METROS]
 											
 optional arguments:
   -h, --help            show this <span class="pl-c1">help</span> message and <span class="pl-c1">exit</span>
   -f {simple,github,rst}, --format {simple,github,rst}
 						Format of the table that displays MSA summary. Default
 						is <span class="pl-s"><span class="pl-pds">"</span>simple<span class="pl-pds">"</span></span>.
   --metros METROS       If chosen, list of selected metros <span class="pl-k">for</span> which to
 						summarize COVID-19 data.</pre>
    </div>
   </li>
   <li>
    <p>
     <a id="user-content-show-mode">
     </a>
     <code>
      covid19_create_movie_or_summary.py s
     </code>
     (SHOW flag) summarizes the latest COVID-19 statistics for a specified MSA. The help output, while running
     <code>
      covid19_create_movie_or_summary.py s -h
     </code>
     , is shown below,
    </p>
    <div class="highlight highlight-source-shell">
     <pre>usage: covid19_create_movie_or_summary.py s [-h] [-n NAME] [-M MAXNUM] [-y]

optional arguments:
  -h, --help            show this <span class="pl-c1">help</span> message and <span class="pl-c1">exit</span>
  -n NAME, --name NAME  Create a summary plot and incident data file of this
						metropolitan area. Default is <span class="pl-s"><span class="pl-pds">"</span>bayarea<span class="pl-pds">"</span></span>.
  -M MAXNUM, --maxnum MAXNUM
						The limit of cases/deaths to visualize. Default is
						5,000. You should use a limit larger (by at least 2,
						no more than 10) than the maximum number of cases
						recorded <span class="pl-k">for</span> <span class="pl-smi">a county</span> <span class="pl-k">in</span> that MSA.
  -y, --yes             If chosen, <span class="pl-k">then</span> <span class="pl-k">do</span> not confirm --maxnum.</pre>
    </div>
    <p>
     The required
     <code>
      -n
     </code>
     or
     <code>
      --name
     </code>
     flag specifies the MSA. The
     <code>
      -M
     </code>
     or
     <code>
      --maxnum
     </code>
     sets the color limits of cases and deaths to this number (the default is 5000); and the
     <code>
      -y
     </code>
     or
     <code>
      --yes
     </code>
     flag suppresses the intermediate prompt that asks the user whether the specified or default maximum number is sufficient. For example, for the NYC metro area,
    </p>
    <div class="highlight highlight-source-shell">
     <pre> covid19_create_movie_or_summary.py s -n nyc
 HERE ARE DETAILS FOR NYC Metro Area.
 2019 EST. POP = 19,216,182.
 FIRST CASE:  01 March 2020.
 LATEST CASE: 24 April 2020 (54 days after first case)
 MAXIMUM NUMBER OF CASES: 150,484 (in New York City, New York)
 MAXIMUM NUMBER OF CASES FOR VISUALIZATION: 5,000.
 CONTINUE (must choose one) [y/n]:</pre>
    </div>
    <p>
     The maximum number of cases and deaths for visualization is 5000, whereas the county with the most cases has over 150k; coloring of cases and deaths by counties is insufficient to visually resolve the absolute and relative time trend of cases and deaths in
     <code>
      New York City
     </code>
     . Here, I would suggest running
     <code>
      covid19_create_movie_or_summary.py s -n nyc -M 200000
     </code>
     to get sufficient contrast.
    </p>
    <p>
     This mode of operation, for example for NYC will output the following seven files:
    </p>
    <ul>
     <li>
      <p>
       <code>
        covid19_nyc_23042020.pkl.gz
       </code>
       is the
       <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html" rel="nofollow">
        Pandas DataFrame
       </a>
       of the COVID-19 cases and deaths, total and per county, from the date of first incident to the latest incident.
      </p>
     </li>
     <li>
      <p>
       <code>
        covid19_nyc_cds_23042020.pdf
       </code>
       and
       <code>
        covid19_nyc_cds_23042020.png
       </code>
       are the PDF and PNG showing the trend of COVID-19 cases and deaths in the NYC metro area.
      </p>
     </li>
     <li>
      <p>
       <code>
        covid19_nyc_cases_23042020.pdf
       </code>
       and
       <code>
        covid19_nyc_cases_23042020.png
       </code>
       are the PDF and PNG showing the county map, colored by number of COVID-19 cases, on the LAST incident day.
      </p>
     </li>
     <li>
      <p>
       <code>
        covid19_nyc_death_23042020.pdf
       </code>
       and
       <code>
        covid19_nyc_death_23042020.png
       </code>
       are the PDF and PNG showing the county map, colored by number of COVID-19 deaths, on the LAST incident day.
      </p>
     </li>
    </ul>
   </li>
   <li>
    <p>
     <a id="user-content-movie-mode">
     </a>
     <code>
      covid19_create_movie_or_summary.py m
     </code>
     (MOVIE flag) creates an
     <a href="https://en.wikipedia.org/wiki/MPEG-4_Part_14" rel="nofollow">
      MP4
     </a>
     movie of COVID-19 cases and deaths for the MSA you specify (see the
     <a href="#gif-animations">
      high quality GIF animations
     </a>
     of these MP4 movies). The help output, while running
     <code>
      covid19_create_movie_or_summary.py m -h
     </code>
     , is shown below,
    </p>
    <div class="highlight highlight-source-shell">
     <pre>usage: covid19_create_movie_or_summary.py m [-h] [-n NAME] [-M MAXNUM] [-y]

optional arguments:
  -h, --help            show this <span class="pl-c1">help</span> message and <span class="pl-c1">exit</span>
  -n NAME, --name NAME  Make a movie of this metropolitan area. Default is
						<span class="pl-s"><span class="pl-pds">"</span>bayarea<span class="pl-pds">"</span></span>
  -M MAXNUM, --maxnum MAXNUM
						The limit of cases/deaths to visualize. Default is
						5,000. You should use a limit larger (by at least 2,
						no more than 10) than the maximum number of cases
						recorded <span class="pl-k">for</span> <span class="pl-smi">a county</span> <span class="pl-k">in</span> that MSA.
  -y, --yes             If chosen, <span class="pl-k">then</span> <span class="pl-k">do</span> not confirm --maxnum.</pre>
    </div>
    <p>
     The meaning of the
     <code>
      -M
     </code>
     and
     <code>
      -y
     </code>
     flags are the same as in
     <a href="#show-mode">
      SHOW mode
     </a>
     .
    </p>
   </li>
  </ul>
 </body>
</html>
